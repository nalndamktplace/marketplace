{"version":3,"file":"static/js/696.11abfa69.chunk.js","mappings":"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","sources":["assets/icons/block-quote.svg","hook/useDebounce.js","helpers/time-formator.js","assets/icons/clock.svg","components/ui/ReadTime/ReadTime.jsx","components/hoc/SidePanel/SidePanel.jsx","config/readerTheme.js","assets/icons/plus.svg","assets/icons/minus.svg","components/ui/Input/NumberInput.jsx","components/ui/Customizer/Customizer.jsx","components/ui/Annotation/AnnotationPanel.jsx","assets/icons/comment.svg","assets/icons/thumbs-up.svg","assets/icons/thumbs-down.svg","assets/icons/send.svg","assets/icons/arrow-up-circle.svg","assets/icons/arrow-down-circle.svg","components/ui/Quote/QuoteSection.jsx","components/ui/Quote/QuotePanel.jsx","components/ui/Annotation/AnnotationContextMenu.jsx","assets/icons/chevron-left.svg","assets/icons/chevron-right.svg","assets/icons/bookmark.svg","assets/icons/letter-case.svg","assets/icons/maximize.svg","assets/icons/minimize.svg","assets/icons/list.svg","assets/icons/communication.svg","components/ui/TocPanel/TocPanel.jsx","components/ui/RangeSlider/RangeSlider.jsx","pages/Reader.jsx"],"sourcesContent":["var _path, _path2, _path3, _path4, _path5, _path6;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgBlockQuote(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6,15H36\",\n    transform: \"translate(6 15)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36,19H6\",\n    transform: \"translate(6 19)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15,11H27\",\n    transform: \"translate(15 11)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27,7H15\",\n    transform: \"translate(15 7)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9,12.5h2a2,2,0,1,1-2,2v-5a4,4,0,0,1,4-4\",\n    transform: \"translate(9 5.5)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,12.5H5a2,2,0,1,1-2,2v-5a4,4,0,0,1,4-4\",\n    transform: \"translate(3 5.5)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBlockQuote);\nexport default __webpack_public_path__ + \"static/media/block-quote.4c1841ea8978c656b644034b544b942a.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useState } from \"react\"\n\nfunction useDebounce(value, delay) {\n\tconst [debouncedValue, setDebouncedValue] = useState(value)\n\tuseEffect(\n\t\t() => {\n\t\t\tconst handler = setTimeout(() => {\n\t\t\t\tsetDebouncedValue(value)\n\t\t\t}, delay)\n\t\t\t\n\t\t\treturn () => {\n\t\t\t\tclearTimeout(handler)\n\t\t\t}\n\t\t},\n\t\t[value, delay]\n\t)\n\treturn debouncedValue\n}\n\nexport default useDebounce ","export const toHHMMSS = (secs) => {\n\tvar sec_num = parseInt(secs, 10)\n\tvar hours = Math.floor(sec_num / 3600)\n\tvar minutes = Math.floor(sec_num / 60) % 60\n\tvar seconds = sec_num % 60\n\n\treturn [hours,minutes,seconds]\n\t\t.map(v => v < 10 ? \"0\" + v : v)\n\t\t.filter((v,i) => v !== \"00\" || i > 0)\n\t\t.join(\":\")\n}","var _circle, _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgClock(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 18,\n    cy: 18,\n    r: 18,\n    transform: \"translate(6 6)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12,7V17l6,6\",\n    transform: \"translate(12 7)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgClock);\nexport default __webpack_public_path__ + \"static/media/clock.7c1690d36b98dfc0db03d58f20a1814f.svg\";\nexport { ForwardRef as ReactComponent };","import axios from \"axios\"\nimport { useDispatch } from \"react-redux\"\nimport { useEffect, useState } from \"react\"\n\nimport { BASE_URL } from \"../../../config/env\"\n\nimport { isUsable } from \"../../../helpers/functions\"\nimport { toHHMMSS } from \"../../../helpers/time-formator\"\nimport { setSnackbar } from \"../../../store/actions/snackbar\"\n\nimport { ReactComponent as ClockIcon } from \"../../../assets/icons/clock.svg\"\nimport { useSelector } from \"react-redux\"\nimport { useNavigate } from \"react-router\"\n\nconst ReadTime = ({timerUpdate, mobileView, bookMeta, preview}) => {\n\n\tconst UserState = useSelector(state => state.UserState)\n\tconst BWalletState = useSelector(state => state.BWalletState)\n\n\tconst [readTime, setReadTime] = useState(0)\n\tconst [lastUpdate, setLastUpdate] = useState(0)\n\tconst [WalletAddress, setWalletAddress] = useState(null)\n\n\tconst dispatch = useDispatch()\n\tconst navigate = useNavigate()\n\n\tuseEffect(() => {\n\t\tif(!isUsable(mobileView) || mobileView === false){\n\t\t\tif(isUsable(preview) && !preview){\n\t\t\t\tif(isUsable(BWalletState.smartAccount)) setWalletAddress(BWalletState.smartAccount.address)\n\t\t\t\telse navigate(-1)\n\t\t\t}\n\t\t}\n\t}, [mobileView, BWalletState, navigate, preview])\n\n\tuseEffect(() => {\n\t\tif(!preview && isUsable(bookMeta) && (isUsable(WalletAddress) || (isUsable(mobileView) && mobileView===true))){\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/reader/read-time`,\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t'address': WalletAddress,\n\t\t\t\t\t'user-id': UserState.user.uid,\n\t\t\t\t\t'authorization': `Bearer ${UserState.tokens.acsTkn.tkn}`\n\t\t\t\t},\n\t\t\t\tparams: { bookAddress: bookMeta.book_address }\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif(res.status === 200) {\n\t\t\t\t\tsetReadTime(res.data.read_time)\n\t\t\t\t\tsetLastUpdate(res.data.read_time)\n\t\t\t\t}\n\t\t\t}).catch(err => {dispatch(setSnackbar('ERROR'))})\n\t\t}\n\t}, [mobileView, bookMeta, dispatch, WalletAddress, preview, UserState])\n\n\tuseEffect(()=>{\n\t\tif(!isUsable(bookMeta) && (!isUsable(WalletAddress) && (!isUsable(mobileView) && mobileView!==true))) return\n\t\tconst updateReadTime = () => \t{\n\t\t\tif(! timerUpdate) return\n\t\t\tsetReadTime(s => s+1)\n\t\t}\n\t\tlet intervalHandler = setInterval(updateReadTime,1000)\n\t\treturn () => { clearInterval(intervalHandler) }\n\t}, [ timerUpdate,mobileView, bookMeta,WalletAddress])\n\n\tuseEffect(()=>{\n\t\tif(!preview){\n\t\t\tconst currentReadTime = readTime\n\t\t\tif(currentReadTime - lastUpdate > 10) {\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/reader/read-time`,\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'address': WalletAddress,\n\t\t\t\t\t\t'user-id': UserState.user.uid,\n\t\t\t\t\t\t'authorization': `Bearer ${UserState.tokens.acsTkn.tkn}`\n\t\t\t\t\t},\n\t\t\t\t\tdata : {\n\t\t\t\t\t\tbookAddress: bookMeta.book_address,\n\t\t\t\t\t\treadTime: currentReadTime\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif(res.status === 200) { setLastUpdate(res.data.read_time) }\n\t\t\t\t}).catch(err => {dispatch(setSnackbar('ERROR'))})\n\t\t\t}\n\t\t}\n\t},[bookMeta, readTime, WalletAddress, lastUpdate, dispatch, preview, UserState])\n\n\treturn ( \n\t\t<div className=\"readtime\">\n\t\t\t<ClockIcon width=\"3rem\" height=\"3rem\" stroke=\"currentColor\"/>\n\t\t\t<div className=\"readtime__time\">{toHHMMSS(readTime)}</div>\n\t\t</div> \n\t)\n}\n\nexport default ReadTime","import { ReactComponent as CloseIcon } from \"../../../assets/icons/close-icon.svg\";\nimport Button from \"../../ui/Buttons/Button\";\n\nconst SidePanel = ({ show = false, setShow=()=>{}, position = \"right\", title = \"\", children }) => {\n    const getClasses = () => {\n        let classes = [\"sidepanel\"];\n        if (show === true) classes.push(\"sidepanel--open\");\n        classes.push(`sidepanel--${position}`);\n        return classes.join(\" \");\n    };\n\n    return (\n        <div className={getClasses()}>\n            <div className=\"sidepanel__header\">\n                <div className=\"sidepanel__header__close-btn\">\n                    <Button type=\"icon\" onClick={()=>setShow(false)}>\n                        <CloseIcon width={24} height={24} stroke=\"currentColor\"/>\n                    </Button>\n                </div>\n                <div className=\"sidepanel__header__title typo__head--6\">{title}</div>\n            </div>\n            <div className=\"sidepanel__body\">{children}</div>\n        </div>\n    );\n};\n\nexport default SidePanel;\n","export const ReaderPreferenceOptions = {\n    fontSize   : { min : 100 , max : 250, step: 10, offset : 50},\n    lineHeight : { min : 1  , max : 2  , step: .25},\n    fontFamily : [\n        { id:\"reader-font-family-arial\"    , name: \"Arial\"    , value: \"'Arial', sans-serif\"       },\n        { id:\"reader-font-family-times\"    , name: \"Times\"    , value: \"'Times New Roman', serif\"  },\n        { id:\"reader-font-family-trebuchet\", name: \"Trebuchet\", value: \"'Trebuchet MS', sans-serif\"},\n    ],\n    themes : [\n        { id:\"reader-theme-light\", name : \"Light\",  backgroundColor : \"white\", color : \"black\", bodyTheme : \"light\" },\n        { id:\"reader-theme-dark\" , name : \"Dark\" ,  backgroundColor : \"black\", color : \"white\", bodyTheme : \"dark\" },\n    ],\n};\n\nexport const ReaderDefault = {\n    fontSize   : 170 ,\n    lineHeight : 1.6 ,\n    fontFamily : ReaderPreferenceOptions.fontFamily.find(ff => ff.id === \"reader-font-family-arial\"),\n    theme      : ReaderPreferenceOptions.themes.find(t => t.id === \"reader-theme-light\"),\n};\n\nexport const ReaderBaseTheme = {\n    body : {\n        \"--font-family\"      : ReaderDefault.fontFamily.value,\n        \"--font-size\"        : ReaderDefault.fontSize+\"%\",\n        \"--line-height\"      : ReaderDefault.lineHeight,\n        \"--background-color\" : ReaderDefault.theme.backgroundColor ,\n        \"--color\"            : ReaderDefault.theme.color,\n\n        \"background-color\" : \"var(--background-color) !important\",\n        \"color\" : \"var(--color) !important\",\n        \"font-size\" : \"var(--font-size) !important\",\n    },\n    p : {\n        \"text-align\": \"justify\" ,\n        \"font-family\" : \"var(--font-family) !important\",\n        \"line-height\" : \"var(--line-height) !important\"\n    },\n};\n","var _line, _line2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgPlus(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    y2: 28,\n    transform: \"translate(24 10)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 28,\n    transform: \"translate(10 24)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.081f662ff85de5c25eb19cf6d582d996.svg\";\nexport { ForwardRef as ReactComponent };","var _line;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgMinus(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 28,\n    transform: \"translate(10 24)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default __webpack_public_path__ + \"static/media/minus.3fd2a51b0c187ce21df81eb7a351b25e.svg\";\nexport { ForwardRef as ReactComponent };","import {ReactComponent as PlusIcon } from \"../../../assets/icons/plus.svg\"\nimport {ReactComponent as MinusIcon } from \"../../../assets/icons/minus.svg\"\n\nconst NumberInput = ({value=0,setValue=()=>{},unit=\"\",min=0,max=100,step=1,offset=0}) => {\n\n    const decreaseValue = () => {\n        setValue(Math.max(min,value - step))\n    }\n\n    const increaseValue = () => {\n        setValue(Math.min(max,value + step))\n    }\n    \n    return (\n        <div className=\"number-input\">\n            <div className=\"number-input__button\" onClick={decreaseValue}>\n                <MinusIcon width={24} stroke=\"currentColor\" />\n            </div>\n            <div className=\"number-input__value\">\n                {value - offset}{unit}\n            </div>\n            <div className=\"number-input__button\" onClick={increaseValue}>\n                <PlusIcon width={24} stroke=\"currentColor\" />\n            </div>\n        </div>\n    );\n};\n\nexport default NumberInput;\n","import { useEffect, useState } from \"react\"\nimport { isUsable } from \"../../../helpers/functions\"\nimport GaTracker from \"../../../trackers/ga-tracker\"\nimport { ReaderDefault, ReaderPreferenceOptions} from \"../../../config/readerTheme\"\nimport NumberInput from \"../Input/NumberInput\"\nimport { useCallback } from \"react\"\n\nconst Customizer = ({rendition}) => {\n\tconst [readerPreferences, setReaderPreferences] = useState({\n\t\t...ReaderDefault,\n\t\tfontFamily : ReaderDefault.fontFamily.id ,\n\t\ttheme : ReaderDefault.theme.id,\n\t});\n\n\tconst rerender = useCallback(() => {\n\t\ttry {\n\t\t\tlet location = rendition.currentLocation()\n\t\t\trendition.clear()\n\t\t\trendition.display(location.start.cfi)\n\t\t} catch(err){}\n\t},[rendition]);\n\n\tconst savePreferences = (readerPreferences) => {\n\t\tif(!window.localStorage) return;\n\t\twindow.localStorage.setItem(\"READER_PREFERENCES\",JSON.stringify(readerPreferences));\n\t}\n\n\tconst loadSavedPreferences = () => {\n\t\tif(!window.localStorage) return {} ;\n\t\ttry{\n\t\t\tlet savedItem = JSON.parse(window.localStorage.getItem(\"READER_PREFERENCES\"));\n\t\t\treturn savedItem || {} ;\n\t\t} catch(err) { return {} }\n\t}\n\n\tuseEffect(()=>{\n\t\tlet {\n\t\t\tfontSize   = ReaderDefault.fontSize ,\n\t\t\tlineHeight = ReaderDefault.lineHeight ,\n\t\t\tfontFamily = ReaderDefault.fontFamily.id,\n\t\t\ttheme      = ReaderDefault.theme.id,\n\t\t} = loadSavedPreferences();\n\t\tsetReaderPreferences({fontSize,lineHeight,fontFamily,theme})\n\t},[])\n\n\tuseEffect(() => {\n\t\tif(!isUsable(rendition)) return ;\n\t\tlet selectedTheme = ReaderPreferenceOptions.themes.find(s=> s.id === readerPreferences.theme);\n\t\tlet selectedFontFamily = ReaderPreferenceOptions.fontFamily.find(s => s.id === readerPreferences.fontFamily);\n\t\tif(!isUsable(selectedTheme)) selectedTheme = ReaderPreferenceOptions.themes[0] ;\n\t\tif(!isUsable(selectedFontFamily)) selectedFontFamily = ReaderPreferenceOptions.fontFamily[0] ;\n\t\trendition.themes.override(\"--font-size\", readerPreferences.fontSize+\"%\")\n\t\trendition.themes.override(\"--font-family\", selectedFontFamily.value)\n\t\trendition.themes.override(\"--line-height\", readerPreferences.lineHeight)\n\t\trendition.themes.override(\"--background-color\", selectedTheme.backgroundColor)\n\t\trendition.themes.override(\"--color\", selectedTheme.color)\n\t\twindow.document.body.setAttribute(\"data-theme\",selectedTheme.bodyTheme)\n\t\trerender();\n\t\tsavePreferences(readerPreferences);\n\t}, [readerPreferences,rendition,rerender])\n\n\tconst updateFontSize = (fontSize) => {\n\t\tGaTracker('event_customizer_fontsize_'+fontSize)\n\t\tsetReaderPreferences(rp => ({...rp,fontSize})) ;\n\t};\n\n\tconst updateLineHeight = (lineHeight) => {\n\t\tGaTracker('event_customizer_lineheight_'+lineHeight)\n\t\tsetReaderPreferences(rp => ({...rp,lineHeight})) ;\n\t};\n\n\tconst setTheme = (theme=\"reader-theme-light\") => {\n\t\tGaTracker('event_customizer_theme_'+theme)\n\t\tsetReaderPreferences(rp => ({...rp,theme})) ;\n\t}\n\n\tconst setFont = (fontFamily) => {\n\t\tGaTracker('event_customizer_font_'+fontFamily)\n\t\tsetReaderPreferences(rp => ({...rp,fontFamily})) ;\n\t}\n\n\treturn (\n\t\t<div className=\"panel panel__customizer\">\n\t\t\t<div className=\"panel__customizer__field\">\n\t\t\t\t<div className=\"panel__customizer__field__lable typo__head--6\">Font Size</div>\n\t\t\t\t<div className=\"panel__customizer__field__input\">\n\t\t\t\t\t<NumberInput \n\t\t\t\t\t\tvalue={readerPreferences.fontSize} \n\t\t\t\t\t\tsetValue={updateFontSize} \n\t\t\t\t\t\tunit=\"%\"\n\t\t\t\t\t\toffset={ReaderPreferenceOptions.fontSize.offset}\n\t\t\t\t\t\tmin={ReaderPreferenceOptions.fontSize.min} \n\t\t\t\t\t\tmax={ReaderPreferenceOptions.fontSize.max}\n\t\t\t\t\t\tstep={ReaderPreferenceOptions.fontSize.step}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"panel__customizer__field\">\n\t\t\t\t<div className=\"panel__customizer__field__lable typo__head--6\">Line Spacing</div>\n\t\t\t\t<div className=\"panel__customizer__field__input\">\n\t\t\t\t\t<NumberInput \n\t\t\t\t\t\tvalue={readerPreferences.lineHeight} \n\t\t\t\t\t\tsetValue={updateLineHeight} \n\t\t\t\t\t\tmin={ReaderPreferenceOptions.lineHeight.min} \n\t\t\t\t\t\tmax={ReaderPreferenceOptions.lineHeight.max}\n\t\t\t\t\t\tstep={ReaderPreferenceOptions.lineHeight.step}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"panel__customizer__field\">\n\t\t\t\t<div className=\"panel__customizer__field__lable typo__head--6\">Themes</div>\n\t\t\t\t<div className=\"panel__customizer__field__input panel__customizer__field__input--themes\">\n\t\t\t\t\t{ReaderPreferenceOptions.themes.map(theme => (\n\t\t\t\t\t\t<div key={theme.id} className={\"panel__customizer__field__input__chip\" + (readerPreferences.theme === theme.id ? \" panel__customizer__field__input__chip--selected\" : \"\")} onClick={()=>setTheme(theme.id)} style={{color:theme.color,backgroundColor:theme.backgroundColor}}>Aa</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"panel__customizer__field\">\n\t\t\t\t<div className=\"panel__customizer__field__lable typo__head--6\">Fonts</div>\n\t\t\t\t<div className=\"panel__customizer__field__input panel__customizer__field__input--fonts\">\n\t\t\t\t{ReaderPreferenceOptions.fontFamily.map(ff => (\n\t\t\t\t\t<div key={ff.id} className={\"panel__customizer__field__input__font\" + (readerPreferences.fontFamily === ff.id ? \" panel__customizer__field__input__font--selected\" : \"\") } style={{fontFamily:ff.value}} onClick={()=>{setFont(ff.id)}}>\n\t\t\t\t\t\t<div className=\"panel__customizer__field__input__font__demo\">Aa</div>\n\t\t\t\t\t\t<div className=\"panel__customizer__field__input__font__name\">{ff.name}</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Customizer\n","import axios from \"axios\"\nimport { useNavigate } from \"react-router\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useCallback, useEffect, useState } from \"react\"\n\nimport GaTracker from '../../../trackers/ga-tracker'\nimport { isUsable } from \"../../../helpers/functions\"\nimport { setSnackbar } from \"../../../store/actions/snackbar\"\nimport { showSpinner, hideSpinner } from '../../../store/actions/spinner'\n\nimport { BASE_URL } from \"../../../config/env\"\nimport Button from \"../Buttons/Button\"\n\nconst AnnotationPanel = ({mobileView, preview, rendition, bookMeta, addAnnotationRef, onRemove=()=>{}, hideModal=()=>{}}) => {\n\n\tconst dispatch = useDispatch()\n\tconst navigate = useNavigate()\n\n\tconst BWalletState = useSelector(state => state.BWalletState)\n\n\tconst [WalletAddress, setWalletAddress] = useState(null)\n\tconst [Loading, setLoading] = useState(false)\n\tconst [Annotations, setAnnotations] = useState([])\n\n\tuseEffect(() => {\n\t\tif(Loading) dispatch(showSpinner())\n\t\telse dispatch(hideSpinner())\n\t}, [Loading, dispatch])\n\n\tuseEffect(() => {\n\t\tif(!isUsable(mobileView) || mobileView === false){\n\t\t\tif(isUsable(preview) && !preview){\n\t\t\t\tif(isUsable(BWalletState.smartAccount)) setWalletAddress(BWalletState.smartAccount.address)\n\t\t\t\telse navigate(-1)\n\t\t\t}\n\t\t}\n\t}, [BWalletState, navigate, preview, mobileView])\n\n\tuseEffect(() => {\n\t\tif(isUsable(preview) && !preview && isUsable(bookMeta) && isUsable(WalletAddress) && isUsable(rendition)){\n\t\t\tsetLoading(true)\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/reader/annotations`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: {\n\t\t\t\t\tbookAddress: bookMeta.book_address,\n\t\t\t\t\townerAddress: WalletAddress\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif(res.status === 200) {\n\t\t\t\t\tlet parsedAnnotations = JSON.parse(res.data.annotations)||[]\n\t\t\t\t\tsetAnnotations(parsedAnnotations)\n\t\t\t\t\tparsedAnnotations.forEach((item)=>{\n\t\t\t\t\t\trendition.annotations.add(\n\t\t\t\t\t\t\t\"highlight\",\n\t\t\t\t\t\t\titem.cfiRange,\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t()=>{},\n\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t{\"fill\": item.color, \"fill-opacity\": \"0.35\", \"mix-blend-mode\": \"multiply\"}\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}, [bookMeta, WalletAddress, dispatch, rendition, preview])\n\n\tconst renderAnnotationItems = () => {\n\t\tlet domItems = []\n\t\tif(!isUsable(rendition)) return \"\"\n\t\tif(!isUsable(bookMeta)) return \"\"\n\t\tAnnotations.forEach((item,i)=>{\n\t\t\tdomItems.push(\n\t\t\t\t<div key={i} className=\"panel__annotation__item\" onClick={()=>gotoPage(item.cfiRange)}>\n\t\t\t\t\t<div className=\"panel__annotation__item__container\">\n\t\t\t\t\t\t<div className=\"panel__annotation__item__color\" style={{backgroundColor:item.color}}></div>\n\t\t\t\t\t\t<div className=\"panel__annotation__item__name\">{item.text}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button size=\"sm\" type=\"icon\" onClick={(e)=>{e.stopPropagation();removeAnnotation(i,item)}}>\n\t\t\t\t\t\tremove\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)\n\t\t})\n\t\tif(domItems.length===0) domItems.push(<div key=\"empty\" className=\"panel__empty\">No Items</div>)\n\t\treturn domItems\n\t}\n\n\tconst removeAnnotation = (itemIndex,item) => {\n\t\tGaTracker('event_annotationpanel_remove')\n\t\tif(isUsable(preview) && !preview && isUsable(bookMeta) && isUsable(WalletAddress) && isUsable(rendition)){\n\t\t\tif(!isUsable(rendition)) return\n\t\t\tif(!isUsable(bookMeta)) return\n\t\t\tsetLoading(true)\n\t\t\tlet newAnnotations = Annotations.filter((item,i) => i !== itemIndex )\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/reader/annotations`,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tbookAddress: bookMeta.book_address,\n\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\tannotations : JSON.stringify(newAnnotations),\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif(res.status === 200) {\n\t\t\t\t\tsetAnnotations(newAnnotations)\n\t\t\t\t\trendition.annotations.remove(item.cfiRange,\"highlight\")\n\t\t\t\t\tonRemove()\n\t\t\t\t} \n\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}\n\n\tconst gotoPage = (cfi) => {\n\t\tGaTracker('event_annotationpanel_goto_page')\n\t\tif(!isUsable(rendition)) return\n\t\trendition.display(cfi)\n\t\trendition.display(cfi)\n\t\thideModal()\n\t}\n\n\tconst addAnnotaion = useCallback(\n\t\t(annotation) => {\n\t\t\tGaTracker('event_annotationpanel_annotate')\n\t\t\tif(isUsable(preview) && !preview && isUsable(bookMeta) && isUsable(WalletAddress) && isUsable(rendition)){\n\t\t\t\tif(!isUsable(rendition)) return\n\t\t\t\tif(!isUsable(bookMeta)) return\n\t\t\t\tsetLoading(true)\n\t\t\t\tlet newAnnotations = [...Annotations,annotation]\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/reader/annotations`,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tbookAddress: bookMeta.book_address,\n\t\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\t\tannotations : JSON.stringify(newAnnotations),\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif(res.status === 200) {\n\t\t\t\t\t\tsetAnnotations(newAnnotations)\n\t\t\t\t\t\trendition.annotations.add(\n\t\t\t\t\t\t\t\"highlight\",\n\t\t\t\t\t\t\tannotation.cfiRange,\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t()=>{},\n\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t{\"fill\": annotation.color, \"fill-opacity\": \"0.35\", \"mix-blend-mode\": \"multiply\"}\n\t\t\t\t\t\t)\n\t\t\t\t\t} \n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => setLoading(false))\n\n\t\t\t\n\t\t\t}\n\t\t},\n\t\t[Annotations, WalletAddress, bookMeta, dispatch, rendition, preview],\n\t)\n\n\tuseEffect(()=>{\n\t\taddAnnotationRef.current = addAnnotaion\n\t},[addAnnotationRef,addAnnotaion])\n\n\treturn <div className=\"panel panel__annotation\"> {renderAnnotationItems()} </div> ;\n}\n\nexport default AnnotationPanel\n","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgComment(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-message-circle-2\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"none\",\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgComment);\nexport default __webpack_public_path__ + \"static/media/comment.a350ab98f9a8a7f8a0abb2fffe7bc038.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgThumbsUp(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-thumb-up\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"none\",\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgThumbsUp);\nexport default __webpack_public_path__ + \"static/media/thumbs-up.baca47a444511cb7d621b57c2efd2b54.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgThumbsDown(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-thumb-down\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"none\",\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 13v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v7a1 1 0 0 0 1 1h3a4 4 0 0 1 4 4v1a2 2 0 0 0 4 0v-5h3a2 2 0 0 0 2 -2l-1 -5a2 3 0 0 0 -2 -2h-7a3 3 0 0 0 -3 3\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgThumbsDown);\nexport default __webpack_public_path__ + \"static/media/thumbs-down.f0bc53bd93c7888b298b40ed9ea93219.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _line, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSend(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-send\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"none\",\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 10,\n    y1: 14,\n    x2: 21,\n    y2: 3\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 3l-6.5 18a0.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a0.55 .55 0 0 1 0 -1l18 -6.5\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSend);\nexport default __webpack_public_path__ + \"static/media/send.110d37af346da9c063cfb5202c473803.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _circle, _line, _line2, _line3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgArrowUpCircle(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-arrow-up-circle\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"none\",\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 9\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 8,\n    x2: 8,\n    y2: 12\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 8,\n    x2: 12,\n    y2: 16\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 16,\n    y1: 12,\n    x2: 12,\n    y2: 8\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowUpCircle);\nexport default __webpack_public_path__ + \"static/media/arrow-up-circle.1f8e61b86a7b85acd6b8a00455236795.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _circle, _line, _line2, _line3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgArrowDownCircle(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-arrow-down-circle\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"none\",\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 9\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 8,\n    y1: 12,\n    x2: 12,\n    y2: 16\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 8,\n    x2: 12,\n    y2: 16\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 16,\n    y1: 12,\n    x2: 12,\n    y2: 16\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDownCircle);\nexport default __webpack_public_path__ + \"static/media/arrow-down-circle.fdf163e5303be23f171560c607f5b15e.svg\";\nexport { ForwardRef as ReactComponent };","import axios from \"axios\"\nimport React from 'react'\nimport moment from 'moment'\nimport { useEffect, useState } from \"react\"\nimport { setSnackbar } from \"../../../store/actions/snackbar\"\nimport { BASE_URL } from \"../../../config/env\"\nimport { ReactComponent as CommentIcon } from '../../../assets/icons/comment.svg'\nimport { ReactComponent as UserIcon } from '../../../assets/icons/user.svg'\nimport { ReactComponent as LikeIcon } from '../../../assets/icons/thumbs-up.svg'\nimport { ReactComponent as DislikeIcon } from '../../../assets/icons/thumbs-down.svg'\nimport { ReactComponent as SendIcon } from '../../../assets/icons/send.svg'\nimport { ReactComponent as UpVoteIcon } from '../../../assets/icons/arrow-up-circle.svg'\nimport { ReactComponent as DownVoteIcon } from '../../../assets/icons/arrow-down-circle.svg'\nimport { useDispatch } from 'react-redux'\nimport GaTracker from '../../../trackers/ga-tracker'\nimport { isUsable } from \"../../../helpers/functions\"\n\nconst QuoteSection = ({ quote, bookMeta, UserState, preview, rendition, hideModal }) => {\n    const dispatch = useDispatch()\n\n    const [CommentSection, setCommentSection] = useState(false)\n    const [postComment, setPostComment] = useState('')\n    const [Comments, setComments] = useState([])\n\n\n    useEffect(() => {\n        axios({\n            url: `${BASE_URL}/api/book/quotes/comments`,\n            method: 'GET',\n            params: {\n                bookAddress: bookMeta.book_address,\n                quoteId: quote.book_id\n            }\n        }).then(res => {\n            if (res.status === 200) {\n                setComments(res.data)\n            }\n            else if(res.status === 204) {}\n            else dispatch(setSnackbar('NOT200'))\n        }).catch(err => {\n            dispatch(setSnackbar('ERROR'))\n        })\n\n\n    }, [bookMeta, dispatch, rendition, preview, quote])\n\n    \n\n    const postComments = () => {\n        if (postComment.length > 2) {\n            axios({\n                url: `${BASE_URL}/api/book/quotes/comments`,\n                method: 'POST',\n                headers: {\n                    'user-id': UserState.user.uid\n                },\n                data: {\n                    bookAddress: bookMeta.book_address,\n                    quoteId: quote.book_id,\n                    comment: postComment,\n                }\n            }).then(res => {\n                if (res.status === 200) {\n                    axios({\n                        url: `${BASE_URL}/api/book/quotes/comments`,\n                        method: 'GET',\n                        params: {\n                            bookAddress: bookMeta.book_address,\n                            quoteId: quote.book_id\n                        }\n                    }).then(res => {\n                        if (res.status === 200) {\n                            setComments(res.data)\n                            setPostComment(\"\")\n                        }\n                        else if(res.status === 204) {}\n                        else dispatch(setSnackbar('NOT200'))\n                    }).catch(err => {\n                        dispatch(setSnackbar('ERROR'))\n                    })\n                }\n                else dispatch(setSnackbar('NOT200'))\n            }).catch(err => {\n                dispatch(setSnackbar('ERROR'))\n            })\n\n        }\n    }\n\n    const renderThreads = (threads) => {\n        let threadsDOM = []\n        threads.forEach((thread, i) => {\n            threadsDOM.push(\n                <div key={i} className='quotes__comments__thread'>\n                    <div className=\"quotes__comments__icon\">\n                        <UserIcon width={22} height={24} stroke=\"currentColor\" />\n                        <div className='quotes__comments__text'>{thread.uid}</div>\n                    </div>\n                    <div className=\"quotes__comments__body typo__body\">\n                        {thread.comment}\n                    </div>\n                </div>\n            )\n        })\n        return threadsDOM\n    }\n\n    const renderComments = () => {\n        let commentsDOM = []\n        Comments.forEach((comment, i) => {\n            commentsDOM.push(\n                <div>\n                    <div key={i} className='quotes__comments'>\n                        <div className=\"quotes__comments__icon\">\n                            <UserIcon width={22} height={24} stroke=\"currentColor\" />\n                            <div className='quotes__comments__text'>{comment.uid}</div>\n                        </div>\n                        <div className=\"quotes__comments__body typo__body\">\n                            {comment.comment}\n                        </div>\n                    </div>\n                    <div className='quotes__item__section__icons'>\n                        <div className='quotes__item__section__icon__action'><LikeIcon height={24} width={24} /></div>\n                        <div className='quotes__item__section__icon__action'><DislikeIcon height={24} width={24} /></div>\n                    </div>\n                    {comment.thread ? renderThreads(comment.thread) : null}\n                </div>\n            )\n        })\n        return commentsDOM\n    }\n\n    const gotoPage = (cfi) => {\n\t\tGaTracker('event_annotationpanel_goto_page')\n\t\tif(!isUsable(rendition)) return\n\t\trendition.display(cfi)\n\t\trendition.display(cfi)\n\t\thideModal()\n\t}\n\n    return (\n        <div>\n            <div className='quotes__item' onClick={()=>gotoPage(quote.cfi_range)}>\n                <div className=\"quotes__item__body typo__body\">\n                    {quote.body}\n                </div>\n                <div className=\"quotes__item__time typo__cap typo__cap--2\">\n                    {moment(quote.created_at).format(\"D MMM, YYYY\") || \"-\"}\n                </div>\n            </div>\n            <div className=\"quotes__item__section\"></div>\n            <div className='quotes__item__section__icons'>\n\n                <div className='quotes__item__section__icon__action'> <CommentIcon onClick={() => setCommentSection(!CommentSection)} height={24} width={24} />{Comments.length}</div>\n                <div className='quotes__item__section__icon__action'><UpVoteIcon height={24} width={24} /></div>\n                <div className='quotes__item__section__icon__action'><DownVoteIcon height={24} width={24} /></div>\n            </div>\n            {CommentSection ?\n                <div>\n                    <div className='quotes__item__section__comment-div'>\n                        <input value={postComment} onChange={e => setPostComment(e.target.value)} className=\"quotes__item__section__comment-div__input\" type=\"text\" placeholder=\"Add a comment...\" />\n                        <div className='quotes__item__section__comment-div__action'><SendIcon onClick={() => postComments()} /></div>\n                    </div>\n                    {renderComments()}\n                </div> : null}\n\n        </div>\n    )\n}\n\nexport default QuoteSection","import axios from \"axios\"\nimport { useNavigate } from \"react-router\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useCallback, useEffect, useState } from \"react\"\nimport { isUsable } from \"../../../helpers/functions\"\nimport { setSnackbar } from \"../../../store/actions/snackbar\"\nimport { showSpinner, hideSpinner } from '../../../store/actions/spinner'\nimport { BASE_URL } from \"../../../config/env\"\nimport QuoteSection from \"./QuoteSection\"\nimport Button from \"../Buttons/Button\"\n\nconst QuotePanel = ({ setDiscCount, mobileView, preview, rendition,  bookMeta, hideModal = () => { } }) => {\n\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n\n    const UserState = useSelector(state => state.UserState)\n    const BWalletState = useSelector(state => state.BWalletState)\n \n    const [WalletAddress, setWalletAddress] = useState(null)\n    const [Loading, setLoading] = useState(false)\n    const [Quotes, setQuotes] = useState([])\n    const [PostQuote, setPostQuotes] = useState('')\n\n    useEffect(() => {\n        if (Loading) dispatch(showSpinner())\n        else dispatch(hideSpinner())\n    }, [Loading, dispatch])\n\n    useEffect(() => {\n        if (!isUsable(mobileView) || mobileView === false) {\n            if (isUsable(preview) && !preview) {\n                if (isUsable(BWalletState.smartAccount.address)) setWalletAddress(BWalletState.smartAccount.address)\n                else navigate(-1)\n            }\n        }\n    }, [BWalletState, navigate, preview, mobileView])\n\n\n    useEffect(() => {\n        if (isUsable(preview) && !preview && isUsable(bookMeta) && isUsable(WalletAddress) && isUsable(rendition) ) {\n            if (!isUsable(rendition)) return\n            if (!isUsable(bookMeta)) return\n            axios({\n                url: `${BASE_URL}/api/book/quotes`,\n                method: 'GET',\n                params: {\n                    bookAddress: bookMeta.book_address,\n                    cfi_range : rendition.currentLocation().start.cfi\n                }\n            }).then(res => {\n                if (res.status === 200) {\n                    setDiscCount(res.data.length)\n                    setQuotes(res.data)\n                }\n                else if(res.status === 204){}\n                else dispatch(setSnackbar('NOT200'))\n            }).catch(err => {\n                dispatch(setSnackbar('ERROR'))\n            }).finally(() => setLoading(false))\n        }\n    }, [  WalletAddress, bookMeta, dispatch, rendition?.location ])\n\n\n    const handlePostQuote = useCallback(\n        (PostQuote) => {\n            if (isUsable(preview) && !preview && isUsable(bookMeta) && isUsable(WalletAddress) && isUsable(rendition)) {\n                if (!isUsable(rendition)) return\n                if (!isUsable(bookMeta)) return\n                setLoading(true)\n                axios({\n                    url: `${BASE_URL}/api/book/quotes`,\n                    method: 'POST',\n                    data: {\n                        bookAddress: bookMeta.book_address,\n                        ownerAddress: WalletAddress,\n                        quote: { body: PostQuote },\n                        cfi_range : rendition?.currentLocation().start.cfi\n                    }\n                }).then(res => {\n                    if(res.status === 200) {\n                        axios({\n                            url: `${BASE_URL}/api/book/quotes`,\n                            method: 'GET',\n                            params: {\n                                bookAddress: bookMeta.book_address,\n                                cfi_range : rendition.currentLocation().start.cfi\n                            }\n                        }).then(res => {\n                            if (res.status === 200) {\n                                setDiscCount(res.data.length)\n                                setQuotes(res.data)\n                                setPostQuotes('')\n                                console.log(res.data)\n                            }\n                            else if(res.status === 204) {}\n                            else dispatch(setSnackbar('NOT200'))\n                        }).catch(err => {\n                            dispatch(setSnackbar('ERROR'))\n                        }).finally(() => setLoading(false))\n                    } \n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => setLoading(false))\n\n\n                }\n        },\n        [Quotes, WalletAddress, bookMeta, dispatch, rendition, preview]\n    )\n\n\n\n    return <div className=\"panel panel__annotation\">\n        <div className='quotes__input'>\n            <textarea className='quotes__input__text-input' rows={6} onChange={e => setPostQuotes(e.target.value)} placeholder=\"Start a Discussion...\" type=\"text\" value={PostQuote} />\n            <Button className='quotes__input__button' type=\"primary\" onClick={() => handlePostQuote(PostQuote)}>Post</Button>\n        </div>\n      {Quotes.map(quote=><QuoteSection rendition={rendition} quote={quote} bookMeta={bookMeta} preview={preview} UserState={UserState} hideModal={hideModal} /> )  }\n    </div>\n}\n\nexport default QuotePanel\n","import Button from \"../Buttons/Button\"\n\nimport {ReactComponent as CloseIcon } from \"../../../assets/icons/close-icon.svg\"\n\nconst AnnotationContextMenu = ({onColorSelect=()=>{},onClose=()=>{}}) => {\n\n\tconst colors = [\n\t\t\"#e6192a\",\n\t\t\"#0080ff\",\n\t\t\"#14b84b\",\n\t\t\"#ffd500\",\n\t\t\"#aa00ff\"\n\t]\n\n\treturn (\n\t\t<div className=\"annotation-context-menu\">\n\t\t\t<div className=\"annotation-context-menu__container\">\n\t\t\t\t{\n\t\t\t\t\tcolors.map(c=>(\n\t\t\t\t\t\t<div style={{\"--color\":c}} key={c} className=\"annotation-context-menu__container__item\" onClick={()=>onColorSelect(c)}></div>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className=\"annotation-context-menu__close\">\n\t\t\t\t<Button type=\"icon\" onClick={onClose}><CloseIcon/></Button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default AnnotationContextMenu\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgChevronLeft(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21,6,9,18,21,30\",\n    transform: \"translate(9 6)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronLeft);\nexport default __webpack_public_path__ + \"static/media/chevron-left.c304714b529ea41eb404bab9d1177ed4.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgChevronRight(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9,6,21,18,9,30\",\n    transform: \"translate(9 6)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronRight);\nexport default __webpack_public_path__ + \"static/media/chevron-right.ce0d5a7720e9ccd81e07aea7fbd6a936.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgBookmark(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11,4H23a4,4,0,0,1,4,4V36L17,30,7,36V8a4,4,0,0,1,4-4\",\n    transform: \"translate(7 4)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBookmark);\nexport default __webpack_public_path__ + \"static/media/bookmark.16a4eaa164d5830a5c8c9f10ec35caab.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _path, _path2, _path3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgLetterCase(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 7,\n    cy: 7,\n    r: 7,\n    transform: \"translate(28 24)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,33V12a7,7,0,1,1,14,0V33\",\n    transform: \"translate(3 5)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,13H17\",\n    transform: \"translate(3 13)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21,12V26\",\n    transform: \"translate(21 12)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLetterCase);\nexport default __webpack_public_path__ + \"static/media/letter-case.ba6c9eaa9f85ed0d35e96c5179b0cae9.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _line, _path2, _line2, _path3, _line3, _path4, _line4;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgMaximize(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16,4h8v8\",\n    transform: \"translate(16 4)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    y1: 12,\n    x2: 12,\n    transform: \"translate(28 8)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12,24H4V16\",\n    transform: \"translate(4 16)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    y1: 12,\n    x2: 12,\n    transform: \"translate(8 28)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16,24h8V16\",\n    transform: \"translate(16 16)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 12,\n    y2: 12,\n    transform: \"translate(28 28)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12,4H4v8\",\n    transform: \"translate(4 4)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line4 || (_line4 = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 12,\n    y2: 12,\n    transform: \"translate(8 8)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMaximize);\nexport default __webpack_public_path__ + \"static/media/maximize.5cc2a7f70489d2cfe101afecb4d8e8c3.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _line, _path2, _line2, _path3, _line3, _path4, _line4;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgMinimize(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5,13h8V5\",\n    transform: \"translate(5 5)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 12,\n    y2: 12,\n    transform: \"translate(6 6)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5,15h8v8\",\n    transform: \"translate(5 15)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    y1: 12,\n    x2: 12,\n    transform: \"translate(6 30)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23,13H15V5\",\n    transform: \"translate(15 5)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    y1: 12,\n    x2: 12,\n    transform: \"translate(30 6)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23,15H15v8\",\n    transform: \"translate(15 15)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line4 || (_line4 = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 12,\n    y2: 12,\n    transform: \"translate(30 30)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinimize);\nexport default __webpack_public_path__ + \"static/media/minimize.f86e9a85883c490fb7312465edbb994f.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _line2, _line3, _line4, _line5, _line6;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgList(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 22,\n    transform: \"translate(18 12)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 22,\n    transform: \"translate(18 24)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    x2: 22,\n    transform: \"translate(18 36)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line4 || (_line4 = /*#__PURE__*/React.createElement(\"line\", {\n    y2: 0.02,\n    transform: \"translate(10 12)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line5 || (_line5 = /*#__PURE__*/React.createElement(\"line\", {\n    y2: 0.02,\n    transform: \"translate(10 24)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })), _line6 || (_line6 = /*#__PURE__*/React.createElement(\"line\", {\n    y2: 0.02,\n    transform: \"translate(10 36)\",\n    fill: \"none\",\n    stroke: \"currentcolor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 3.6\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgList);\nexport default __webpack_public_path__ + \"static/media/list.52811cf1e16d8c8b6a035ec26d510bc7.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgCommunication(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"icon icon-tabler icon-tabler-messages\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"none\",\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCommunication);\nexport default __webpack_public_path__ + \"static/media/communication.06a6ce9db72c2f1ca35a088a1ffe2345.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useState } from \"react\"\nimport { isUsable } from \"../../../helpers/functions\"\nimport GaTracker from \"../../../trackers/ga-tracker\"\n\nconst TocPanel = ({ rendition, onGoto = () => {}, onSelect = () => {} }) => {\n    const [tocItems, setTocItems] = useState([]);\n\n    useEffect(() => {\n        if (!isUsable(rendition)) return;\n        if (!isUsable(rendition.book)) return;\n        rendition.book.loaded.navigation.then(({ toc }) => {\n            const toc_ = toc.map((t) => ({ label: t.label, href: t.href }));\n            setTocItems(toc_);\n        });\n    }, [rendition]);\n\n    const renderTOCItems = () => {\n\t\tGaTracker('event_toc_panel_show')\n        let domItems = [];\n        if (!isUsable(rendition)) return \"\";\n        tocItems.forEach((item, i) => {\n            domItems.push(\n                <div key={i} className=\"panel__toc__item\" onClick={() => gotoTOCItem(`${item.href}`)}>\n                    <div className=\"typo__body typo__body--1\">{item.label}</div>\n                </div>\n            );\n        });\n        if (domItems.length === 0) domItems.push(<div key=\"empty\" className=\"panel__empty\">No Items</div>);\n        return domItems;\n    };\n\n    const gotoTOCItem = (cfi) => {\n        onSelect();\n        GaTracker(\"event_toc_panel_goto\");\n        if (!isUsable(rendition)) return;\n        rendition.display(cfi);\n        rendition.display(cfi);\n        onGoto();\n    };\n\n    return <div className=\"panel panel__toc\">{renderTOCItems()}</div>;\n};\n\nexport default TocPanel;\n","import { useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport { isUsable } from \"../../../helpers/functions\";\n\nconst RangeSlider = ({className=\"\",value,onChange,min=0,max=100,step=1}) => {\n    const rangeSliderRef = useRef();\n\n    useEffect(()=>{\n        if(!isUsable(rangeSliderRef.current)) return ;\n        let progress = value / (max-min) ;\n        rangeSliderRef.current.style.setProperty(\"--progress\",progress)\n    },[value,min,max,rangeSliderRef])\n\n    return (\n        <div ref={rangeSliderRef} className={\"range-slider \"+className}>\n            <input\n                type=\"range\"\n                value={value}\n                onChange={onChange}\n                min={min}\n                max={max}\n                step={step}\n                className=\"range-slider__input\"\n            />\n        </div>\n    );\n};\n\nexport default RangeSlider;\n","import { useDispatch, useSelector } from \"react-redux\"\nimport { useLocation, useNavigate } from \"react-router\"\nimport React, { useCallback, useEffect, useRef, useState } from \"react\"\nimport { Helmet } from \"react-helmet\"\n\nimport Epub, { EpubCFI } from \"epubjs\"\n\nimport useDebounce from \"../hook/useDebounce\"\n\nimport Button from \"../components/ui/Buttons/Button\"\nimport ReadTimer from \"../components/ui/ReadTime/ReadTime\"\nimport SidePanel from \"../components/hoc/SidePanel/SidePanel\"\nimport Customizer from \"../components/ui/Customizer/Customizer\"\nimport AnnotationPanel from \"../components/ui/Annotation/AnnotationPanel\"\nimport QuotePanel from \"../components/ui/Quote/QuotePanel\"\nimport AnnotationContextMenu from \"../components/ui/Annotation/AnnotationContextMenu\"\n\nimport { isFilled, isUsable } from \"../helpers/functions\"\nimport { setSnackbar } from \"../store/actions/snackbar\"\nimport { hideSpinner, showSpinner } from \"../store/actions/spinner\"\n\nimport { ReactComponent as ChevronLeftIcon } from \"../assets/icons/chevron-left.svg\"\nimport { ReactComponent as ChevronRightIcon } from \"../assets/icons/chevron-right.svg\"\nimport { ReactComponent as BookmarkIcon } from \"../assets/icons/bookmark.svg\"\nimport { ReactComponent as LetterCaseIcon } from \"../assets/icons/letter-case.svg\"\nimport { ReactComponent as BlockquoteIcon } from \"../assets/icons/block-quote.svg\"\nimport { ReactComponent as MaximizeIcon } from \"../assets/icons/maximize.svg\"\nimport { ReactComponent as MinimizeIcon } from \"../assets/icons/minimize.svg\"\nimport { ReactComponent as ListIcon } from \"../assets/icons/list.svg\"\nimport { ReactComponent as CommunicationIcon } from \"../assets/icons/communication.svg\"\n\nimport { BASE_URL } from '../config/env'\nimport GaTracker from \"../trackers/ga-tracker\"\nimport TocPanel from \"../components/ui/TocPanel/TocPanel\"\nimport RangeSlider from \"../components/ui/RangeSlider/RangeSlider\"\nimport { setWallet } from \"../store/actions/wallet\"\nimport Wallet from \"../connections/wallet\"\nimport axios from \"axios\"\nimport { ReaderBaseTheme } from \"../config/readerTheme\"\n\nconst ReaderPage = () => {\n\n\tconst params = useLocation()\n\tconst dispatch = useDispatch()\n\tconst navigate = useNavigate()\n\tconst BWalletState = useSelector(state => state.BWalletState)\n\n\tconst [readTime, setReadTime] = useState(0)\n\tconst [Preview, setPreview] = useState(null)\n\tconst [Loading, setLoading] = useState(false)\n\tconst [bookMeta, setBookMeta] = useState({})\n\tconst [progress, setProgress] = useState(0)\n\tconst [rendition, setRendition] = useState()\n\tconst [fullscreen, setFullscreen] = useState(false)\n\tconst [annotaionPanel, setAnnotaionPanel] = useState(false)\n\tconst [quotePanel, setQuotePanel] = useState(false)\n\tconst [pageBookmarked, setPageBookmarked] = useState(false)\n\tconst [totalLocations, setTotalLocations] = useState(0)\n\tconst [customizerPanel, setCustomizerPanel] = useState(false)\n\tconst [tocPanel, setTocPanel] = useState(false);\n\tconst [WalletAddress, setWalletAddress] = useState(null);\n\tconst [showUI, setShowUI] = useState(true);\n\tconst [annotationSelection, setAnnotationSelection] = useState({})\n\tconst [showContextMenu, setShowContextMenu] = useState(false)\n\tconst [chapterName, setChapterName] = useState(\"\");\n\tconst [discCount, setDiscCount] = useState(\"\");\n\tconst [currentLocationCFI, setCurrentLocationCFI] = useState(\"\");\n\tconst [timerUpdate, setTimerUpdate] = useState(true)\n\n\tconst debouncedProgress = useDebounce(progress, 300)\n\tconst addAnnotationRef = useRef()\n\tconst addQuotesRef = useRef()\n\tconst seeking = useRef(false);\n\n\tconst connectWallet = useCallback(\n\t\t() => {\n\t\t\tWallet.connectWallet().then(res => {\n\t\t\t\tdispatch(setWallet(res.selectedAddress))\n\t\t\t\tdispatch(setSnackbar({show: true, message: \"Wallet connected.\", type: 1}))\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar({show: true, message: \"Error while connecting to wallet\", type: 4}))\n\t\t\t}).finally(() => setLoading(false))\n\t\t},[dispatch],\n\t)\n\n\tconst saveLastReadPage = useCallback(\n\t\t(cfi) => {\n\t\t\tGaTracker('event_reader_lastPage_save')\n\t\t\tif(!isUsable(window.localStorage)) return\n\t\t\tif(!isUsable(bookMeta)) return\n\t\t\tconst bookKey = `${bookMeta.id}:lastread`\n\t\t\tlocalStorage.setItem(bookKey,cfi)\n\t\t},[bookMeta]\n\t)\n\n\tconst isCurrentPageBookmarked = useCallback(\n\t\t() => {\n\t\t\tif(!isUsable(rendition)) return\n\t\t\tif(!isUsable(bookMeta)) return\n\t\t\tconst bookKey = `${bookMeta.id}:bookmarks`\n\t\t\tlet item = window.localStorage.getItem(bookKey) ;\n\t\t\tif(!isFilled(item)) return false ;\n\t\t\tlet stored = JSON.parse(item) || {}\n\t\t\tlet epubcfi = new EpubCFI()\n\t\t\tlet current = rendition.currentLocation()\n\t\t\ttry{\n\t\t\t\tif(epubcfi.compare(stored.cfi,current.start.cfi)===0) return true\n\t\t\t\tif(epubcfi.compare(stored.cfi,current.end.cfi)===0) return true\n\t\t\t\tif(epubcfi.compare(stored.cfi,current.start.cfi)===1 && epubcfi.compare(stored.cfi,current.end.cfi)===-1) return true\n\t\t\t\treturn false\t \n\t\t\t} catch(err){\n\t\t\t\treturn false\n\t\t\t}\n\t\t},[bookMeta, rendition]\n\t)\n\n\tconst updateBookmarkedStatus = useCallback(\n\t\t() => {\n\t\t\tGaTracker('event_reader_page_bookmark')\n\t\t\tconst pageBookmarked = isCurrentPageBookmarked()\n\t\t\tsetPageBookmarked(pageBookmarked)\n\t\t},[isCurrentPageBookmarked]\n\t)\n\n\tconst hideAllPanel = useCallback(\n\t\t({customizer=true,annotation=true,quote=true,toc=true}={}) => {\n\t\t\tGaTracker('event_reader_panels_hide')\n\t\t\tcustomizer && setCustomizerPanel(false)\n\t\t\tannotation && setAnnotaionPanel(false)\n\t\t\tquote && setQuotePanel(false)\n\t\t\ttoc && setTocPanel(false)\n\t\t},\n\t\t[]\n\t)\n\n\tuseEffect(() => { GaTracker('page_view_reader') }, [])\n\n\tuseEffect(()=>{\n\t\tif(fullscreen===true){\n\t\t\tGaTracker('event_reader_screen_full')\n\t\t\topenFullscreen()\n\t\t}\n\t\telse{\n\t\t\tGaTracker('event_reader_screen_window')\n\t\t\tcloseFullscreen()\n\t\t}\n\t},[fullscreen])\t\n\n\tuseEffect(() => {\n\t\tif(Loading) dispatch(showSpinner())\n\t\telse dispatch(hideSpinner())\n\t}, [Loading, dispatch])\n\n\tuseEffect(() => {\n\t\tsetLoading(true)\n\t\tif(isUsable(BWalletState.smartAccount)) setWalletAddress(BWalletState.smartAccount.address)\n\t\telse connectWallet()\n\t\tsetLoading(false)\n\t}, [BWalletState, connectWallet])\n\n\tuseEffect(()=>{\n\t\thideAllPanel()\n\t},[showUI,hideAllPanel])\n\n\tuseEffect(()=>{\n\t\tsetLoading(true)\n\t\tlet bookURL = null\n\t\tconst navParams = params.state\n\t\tif(isUsable(navParams.preview) && navParams.preview === true){\n\t\t\tGaTracker('event_reader_mode_preview')\n\t\t\tbookURL = BASE_URL+'/files/'+navParams.book.preview\n\t\t\tsetPreview(true)\n\t\t} else {\n\t\t\tGaTracker('event_reader_mode_live')\n\t\t\tbookURL = navParams.book.url\n\t\t\tsetPreview(false)\n\t\t}\n\t\ttry {\n\t\t\tconst book = Epub(bookURL,{openAs:\"epub\"})\n\t\t\tbook.ready.then(()=>{\n\t\t\t\tconst elm = document.querySelector(\"#book__reader\") ;\n\t\t\t\tif(elm) elm.innerHTML = \"\";\n\t\t\t\tconst _rendition = book.renderTo(\"book__reader\", {\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\tmanager: \"continuous\",\n\t\t\t\t\tflow: \"paginated\",\n\t\t\t\t\tsnap: \"true\",\n\t\t\t\t\tgap : 40,\n\t\t\t\t\tallowScriptedContent: true\n\t\t\t\t});\n\t\t\t\t_rendition.themes.default(ReaderBaseTheme)\n\t\t\t\t_rendition.display();\n\t\t\t\tsetRendition(_rendition)\n\t\t\t\tsetLoading(false)\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar({show: true, message: \"Error while loading book.\", type: 4}))\n\t\t\t\tsetLoading(false)\n\t\t\t})\n\t\t\tsetBookMeta(navParams.book)  \n\t\t} catch(err) {\n\t\t\tdispatch(setSnackbar({show: true, message: \"Error while loading book.\", type: 4}))\n\t\t\tsetLoading(false)\n\t\t}\n\t},[params, dispatch])\n\n\tuseEffect(()=>{ \n\t\tif(!isUsable(rendition)) return\n\t\tconst handleResize = () => {\n\t\t\tGaTracker('event_reader_resize')\n\t\t\trendition.manager.resize(\"100%\",\"100%\")\n\t\t}\n\t\tconst handleFullscreen = () => {\n\t\t\tif(isUsable(window.document.fullscreenElement)){\n\t\t\t\tGaTracker('event_reader_fullscreen')\n\t\t\t\tsetFullscreen(true)\n\t\t\t}\n\t\t\telse{\n\t\t\t\tGaTracker('event_reader_window')\n\t\t\t\tsetFullscreen(false)\n\t\t\t}\n\t\t\thandleResize()\n\t\t}\n\t\twindow.addEventListener(\"resize\",handleResize)\n\t\twindow.addEventListener(\"fullscreenchange\",handleFullscreen)\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\",handleResize)\n\t\t\twindow.removeEventListener(\"fullscreenchange\",handleFullscreen)\n\t\t}\n\t},[rendition])\n\n\tuseEffect(()=>{\n\t\tif(!isUsable(rendition)) return\n\t\tif(!isUsable(currentLocationCFI) && !isFilled(currentLocationCFI)) return\n\t\trendition.book.loaded.navigation.then(function(){\n\t\t\tlet locationCfi = currentLocationCFI;\n\t\t\tlet spineItem = rendition.book.spine.get(locationCfi);\n\t\t\tif(!isUsable(spineItem)) return ;\n\t\t\tlet navItem = rendition.book.navigation.get(spineItem.href);\n\t\t\tsetChapterName(navItem?.label?.trim()||\"\")\n\t\t});\n\t},[rendition,currentLocationCFI])\n\n\tuseEffect(()=>{\n\t\tif(!isUsable(rendition)) return\n\t\tif(!isUsable(bookMeta)) return\n\t\tconst handleRelocated = (event)=>{\n\t\t\tupdateBookmarkedStatus()\n\t\t\tsetProgress(event.start.location)\n\t\t\tsaveLastReadPage(event.start.cfi)\n\t\t\tsetCurrentLocationCFI(event.start.cfi)\n\t\t}\n\t\tconst handleClick = () => { setShowUI(s=>!s)}\n\t\tconst handleKeyUp = (e) => {\n\t\t\tGaTracker('event_reader_navigate_keys')\n\t\t\tif ((e.key === \"ArrowLeft\") || (e.keyCode || e.which) === 37) {\n\t\t\t\trendition.prev();\n\t\t\t}\n\t\t\tif ((e.key === \"ArrowRight\") || (e.keyCode || e.which) === 39) {\n\t\t\t\trendition.next();\n\t\t\t}\n\t\t}\n\t\trendition.on(\"relocated\",handleRelocated)\n\t\trendition.on(\"click\",handleClick);\n\t\trendition.on(\"keyup\", handleKeyUp);\n\t\tdocument.addEventListener(\"keyup\", handleKeyUp);\n\t\treturn ()=>{\n\t\t\trendition.off(\"relocated\",handleRelocated)\n\t\t\trendition.off(\"click\",handleClick);\n\t\t\trendition.off(\"keyup\", handleKeyUp);\n\t\t\tdocument.removeEventListener(\"keyup\", handleKeyUp);\n\t\t}\n\t},[rendition,bookMeta, updateBookmarkedStatus,saveLastReadPage,setCurrentLocationCFI])\n\n\tuseEffect(()=>{\n\t\tif (!isUsable(rendition)) return\n\t\tif (!isUsable(bookMeta)) return\n\t\tconst bookKey = `${bookMeta.id}:locations`\n\t\tlet stored = localStorage.getItem(bookKey)\n\t\tif (stored) {\n\t\t\trendition.book.locations.load(stored)\n\t\t\tsetTotalLocations(JSON.parse(stored).length)\n\t\t} else {\n\t\t\trendition.book.locations.generate()\n\t\t\t.then(()=>{\n\t\t\t\tsetTotalLocations(rendition.book.locations.total)\n\t\t\t\tlocalStorage.setItem(bookKey, rendition.book.locations.save())\n\t\t\t})\n\t\t\t.catch((err)=>{})\n\t\t}\n\t},[rendition,bookMeta])\n\n\tuseEffect(() => {\n\t\tif(!isUsable(rendition)) return\n\t\tif(seeking.current === true){\n\t\t\trendition.display(rendition.book.locations.cfiFromLocation(debouncedProgress))\n\t\t\tseeking.current=false\n\t\t}\t\n\t}, [debouncedProgress, rendition, seeking])\n\n\tuseEffect(() => {\n\t\tif(!isUsable(window.localStorage)) return\n\t\tif(!isUsable(bookMeta)) return\n\t\tif(!isUsable(rendition)) return\n\t\tconst bookKey = `${bookMeta.id}:lastread`\n\t\tlet lastPageCfi = localStorage.getItem(bookKey)\n\t\tif(isUsable(lastPageCfi)) {\n\t\t\trendition.display(lastPageCfi)\n\t\t}\n\t}, [bookMeta, rendition])\n\n\tuseEffect(()=>{\n\t\tif(!isUsable(rendition)) return\n\t\tif(!isUsable(bookMeta)) return\n\t\tconst handleSelected = (cfiRange,contents)=>{\n\t\t\tGaTracker('event_reader_content_selected')\n\t\t\trendition.book.getRange(cfiRange).then((range)=>{\n\t\t\t\tsetAnnotationSelection({cfiRange,text : range?.toString()})\n\t\t\t\tsetShowContextMenu(true)\n\t\t\t}).catch(()=>{\n\t\t\t\tsetAnnotationSelection({})\n\t\t\t})\n\t\t}\n\t\trendition.on(\"selected\",handleSelected)\n\t\treturn ()=>{rendition.off(\"selected\",handleSelected)}\n\t},[rendition,bookMeta])\n\n\tuseEffect(()=>{\n\t\tif(!isUsable(rendition)) return\n\t\tif(!isUsable(bookMeta)) return\n\t\tconst handleMarkClicked = (cfiRange,data,contents)=>{\n\t\t\tsetAnnotaionPanel(true)\n\t\t}\n\t\trendition.on(\"markClicked\",handleMarkClicked)\n\t\treturn ()=>{rendition.off(\"markClicked\",handleMarkClicked)}\n\t},[rendition,bookMeta])\n\n\tconst handlePageUpdate = (e) => {\n\t\tstartTimer()\n\t\tseeking.current = true ;\n\t\tsetProgress(e.target.value)\n\t}\n\n\tconst openFullscreen = () => {\n\t\tstartTimer()\n\t\tvar elem = document.documentElement\n\t\tif (elem.requestFullscreen) elem.requestFullscreen()\n\t\telse if (elem.webkitRequestFullscreen)elem.webkitRequestFullscreen()\n\t\telse if (elem.msRequestFullscreen) elem.msRequestFullscreen()\n\t}\n\n\tconst closeFullscreen = () => {\n\t\tstartTimer()\n\t\tif(!document.fullscreenElement) return\n\t\tif (document.exitFullscreen) document.exitFullscreen()\n\t\telse if (document.webkitExitFullscreen) document.webkitExitFullscreen()\n\t\telse if (document.msExitFullscreen) document.msExitFullscreen()\n\t}\n\n\tconst handleAnnotationColorSelect = (color) => {\n\t\tstartTimer()\n\t\tif(!isUsable(annotationSelection)) return\n\t\tif(!isUsable(rendition)) return\n\t\tif(!isUsable(bookMeta)) return\n\t\tif(isUsable(addAnnotationRef.current) && typeof addAnnotationRef.current === \"function\")\n\t\t\taddAnnotationRef.current({...annotationSelection,color})\n\t}\n\n\tconst addBookMark = () => {\n\t\tGaTracker('event_bookmarkpanel_bookmark')\n\t\tif(isUsable(Preview) && !Preview && isUsable(bookMeta) && isUsable(WalletAddress)){\n\t\t\tif(!isUsable(rendition)) return\n\t\t\tif(!isUsable(bookMeta)) return\n\t\t\tsetLoading(true)\n\t\t\tlet newBookmark = {\n\t\t\t\tcfi : rendition.currentLocation().start.cfi,\n\t\t\t\tpercent : rendition.currentLocation().start.percentage\n\t\t\t};\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/reader/bookmarks`,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tbookAddress: bookMeta.book_address,\n\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\tbookmarks: JSON.stringify(newBookmark),\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif(res.status === 200) {\n\t\t\t\t\tconst bookKey = `${bookMeta.id}:bookmarks`\n\t\t\t\t\tlocalStorage.setItem(bookKey,JSON.stringify(newBookmark))\n\t\t\t\t\tupdateBookmarkedStatus()\n\t\t\t\t} \n\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}\n\n\tconst removeBookMark = () => {\n\t\tGaTracker('event_bookmarkpanel_bookmark_remove')\n\t\tif(isUsable(Preview) && !Preview && isUsable(bookMeta) && isUsable(WalletAddress)){\n\t\t\tif(!isUsable(rendition)) return\n\t\t\tif(!isUsable(bookMeta)) return\n\t\t\tsetLoading(true)\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/reader/bookmarks`,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tbookAddress: bookMeta.book_address,\n\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\tbookmarks: \"\",\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif(res.status === 200) {\n\t\t\t\t\tconst bookKey = `${bookMeta.id}:bookmarks`\n\t\t\t\t\tlocalStorage.setItem(bookKey,\"\")\n\t\t\t\t\tupdateBookmarkedStatus()\n\t\t\t\t} \n\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}\n\n\tconst toggleBookMark = () => {\n\t\tstartTimer()\n\t\tif(isCurrentPageBookmarked()===true) removeBookMark();\n\t\telse addBookMark();\n\t}\n\n\tuseEffect(()=>{\n\t\tif(!isUsable(bookMeta) && (!isUsable(WalletAddress))) return\n\t\tconst updateReadTime = () => {\n\t\t\tsetReadTime(s => s+1)\n\t\t}\n\t\tlet intervalHandler = setInterval(updateReadTime,1000)\n\t\treturn () => { clearInterval(intervalHandler) }\n\t},[ bookMeta, WalletAddress])\n\n\tuseEffect(()=>{\n\t\tfunction resetTimer(){\n\t\t\tif(readTime >= 1000)\n\t\t\t{\n\t\t\t\tsetTimerUpdate(false)\n\t\t\t\tsetReadTime(0)\n\t\t\t}\n\t\t}\n\t\tresetTimer()\n\t})\n\n\tfunction startTimer(){\n\t\tsetTimerUpdate(true)\n\t\tsetReadTime(0)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Helmet>\n\t\t\t\t<meta name='Reader' content=\"Book's Reader View\"/>\n\t\t\t</Helmet>\n\t\t<div className=\"reader\">\n\t\t\t<div className={\"reader__header\" + (showUI?\" reader__header--show\":\"\")}>\n\t\t\t\t<div className=\"reader__header__left\">\n\t\t\t\t\t<Button type=\"icon\" onClick={()=>{navigate(-1)}}><ChevronLeftIcon/></Button>\n\t\t\t\t\t<div className=\"reader__header__left__timer\">\n\t\t\t\t\t\t<span class=\"reader__header__left__timer__dot\"></span>\n\t\t\t\t\t\t{rendition && <ReadTimer timerUpdate={timerUpdate} preview={Preview} bookMeta={bookMeta} rendition={rendition}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"reader__header__center\">\n\t\t\t\t\t<div className=\"typo__body--2 typo__color--n700 typo__transform--capital\">{bookMeta.title||\"Untitled\"}</div>\n\t\t\t\t</div> \n\t\t\t\t<div className=\"reader__header__right\">\n\t\t\t\t\t<Button className=\"reader__header__right__hide-on-mobile\" type=\"icon\" onClick={()=>setFullscreen(s=>!s)}> {fullscreen?<MinimizeIcon/>:<MaximizeIcon/>} </Button>\n\t\t\t\t\t<Button type=\"icon\" className={tocPanel?\"reader__header__right__button--active\":\"\"} onClick={()=>{hideAllPanel({toc:false});setTocPanel(s=>!s);startTimer()}} > <ListIcon/> </Button>\n\t\t\t\t\t<Button type=\"icon\" className={annotaionPanel?\"reader__header__right__button--active\":\"\"} onClick={()=>{hideAllPanel({annotation:false});setAnnotaionPanel(s=>!s);startTimer()}} > <BlockquoteIcon/> </Button>\n\t\t\t\t\t<Button type=\"icon\" className={quotePanel?\"reader__header__right__button--active\":\"\"} onClick={()=>{hideAllPanel({quotePanel:false});setQuotePanel(s=>!s);startTimer()}} > <CommunicationIcon/> </Button>\n\t\t\t\t\t<Button type=\"icon\" className={pageBookmarked?\"reader__header__right__button--active\":\"\"} onClick={toggleBookMark} ><BookmarkIcon /></Button>\n\t\t\t\t\t<Button type=\"icon\" className={customizerPanel?\"reader__header__right__button--active\":\"\"} onClick={()=>{hideAllPanel({customizer:false});setCustomizerPanel(s=>!s);startTimer()}}><LetterCaseIcon /></Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"reader__container\">\n\t\t\t\t{!quotePanel?<div className=\"quotes__discussions \" >Discussions:<div className=\"quotes__discussions__count\">{discCount}</div></div>:null}\n\t\t\t\t<div className={pageBookmarked ? \"reader__container__bookmark reader__container__bookmark--show\" : \"reader__container__bookmark\"}></div>\n\t\t\t\t<div className=\"reader__container__prev-btn\">\n\t\t\t\t\t<div className=\"reader__container__prev-btn__button\" onClick={()=> {rendition.prev();startTimer()}}>\n\t\t\t\t\t\t<ChevronLeftIcon width={32} stroke=\"currentColor\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"book__reader\" className=\"reader__container__book\"></div>\n\t\t\t\t<div className=\"reader__container__next-btn\">\n\t\t\t\t\t<div className=\"reader__container__next-btn__button\" onClick={()=> {rendition.next();startTimer()}}>\n\t\t\t\t\t\t<ChevronRightIcon width={32} stroke=\"currentColor\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{!Preview && (\n\t\t\t\t\t<div className={ showContextMenu ? \"reader__container__context-menu-container reader__container__context-menu-container--show\" : \"reader__container__context-menu-container\"}>\n\t\t\t\t\t\t<AnnotationContextMenu onColorSelect={(color)=>{handleAnnotationColorSelect(color); setShowContextMenu(false)}} onClose={()=>setShowContextMenu(false)}/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<SidePanel show={tocPanel} setShow={setTocPanel} position=\"right\" title=\"Table of Content\">\n\t\t\t\t\t<TocPanel onSelect={()=>{hideAllPanel({toc: false});setTocPanel(false)}} rendition={rendition}/>\n\t\t\t\t</SidePanel>\n\t\t\t\t<SidePanel show={annotaionPanel} setShow={setAnnotaionPanel} position=\"right\" title=\"Annotations\">\n\t\t\t\t\t<AnnotationPanel preview={Preview} rendition={rendition} bookMeta={bookMeta} show={annotaionPanel} addAnnotationRef={addAnnotationRef} hideModal={()=>{setAnnotaionPanel(false); startTimer()}} onRemove={()=>{setAnnotaionPanel(false)}} />\n\t\t\t\t</SidePanel>\n\t\t\t\t<SidePanel show={quotePanel} setShow={setQuotePanel} position=\"right\" title=\"Discussions\">\n\t\t\t\t\t<QuotePanel setDiscCount={setDiscCount} preview={Preview} rendition={rendition} bookMeta={bookMeta} show={quotePanel} addQuotesRef={addQuotesRef} hideModal={()=>{setQuotePanel(false)}}  />\n\t\t\t\t</SidePanel>\n\t\t\t\t<SidePanel show={customizerPanel} setShow={setCustomizerPanel} position=\"right-bottom\" title=\"Preferences\">\n\t\t\t\t\t<Customizer initialFontSize={100} rendition={rendition}/>\n\t\t\t\t</SidePanel>\n\t\t\t</div>\n\t\t\t<nav className={\"reader__nav\" + (showUI?\" reader__nav--show\":\"\")}>\n\t\t\t\t<div className=\"reader__nav__value\">\n\t\t\t\t\t<div className=\"reader__nav__value__chapter-title typo__gray--n600 typo__transform--capital\">{chapterName||bookMeta.title||\"\"}</div>\n\t\t\t\t\t<div>{Math.floor(debouncedProgress*100/totalLocations)||\"0\"}%</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"reader__nav__progress\">\n\t\t\t\t\t<RangeSlider value={progress} onChange={handlePageUpdate} max={totalLocations} className=\"reader__nav__progress\" />\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t\t\n\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default ReaderPage"],"names":["_path","_path2","_path3","_path4","_path5","_path6","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgBlockQuote","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","id","d","transform","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ForwardRef","value","delay","debouncedValue","setDebouncedValue","useState","useEffect","handler","setTimeout","clearTimeout","toHHMMSS","secs","sec_num","parseInt","Math","floor","map","v","filter","join","_circle","SvgClock","cx","cy","r","timerUpdate","mobileView","bookMeta","preview","UserState","useSelector","state","BWalletState","readTime","setReadTime","lastUpdate","setLastUpdate","WalletAddress","setWalletAddress","dispatch","useDispatch","navigate","useNavigate","isUsable","smartAccount","address","axios","url","BASE_URL","method","headers","user","uid","tokens","acsTkn","tkn","params","bookAddress","book_address","then","res","status","data","read_time","catch","err","setSnackbar","intervalHandler","setInterval","s","clearInterval","currentReadTime","className","show","setShow","position","children","classes","push","getClasses","Button","type","onClick","ReaderPreferenceOptions","fontSize","min","max","step","offset","lineHeight","fontFamily","name","themes","backgroundColor","color","bodyTheme","ReaderDefault","find","ff","theme","t","ReaderBaseTheme","body","p","_line","_line2","SvgPlus","y2","x2","SvgMinus","setValue","unit","rendition","readerPreferences","setReaderPreferences","rerender","useCallback","location","currentLocation","clear","display","start","cfi","window","localStorage","JSON","parse","getItem","loadSavedPreferences","selectedTheme","selectedFontFamily","override","document","setAttribute","setItem","stringify","savePreferences","GaTracker","rp","setTheme","style","addAnnotationRef","onRemove","hideModal","Loading","setLoading","Annotations","setAnnotations","showSpinner","hideSpinner","ownerAddress","parsedAnnotations","annotations","forEach","item","add","cfiRange","finally","removeAnnotation","itemIndex","newAnnotations","remove","gotoPage","addAnnotaion","annotation","current","domItems","text","size","e","stopPropagation","renderAnnotationItems","SvgComment","SvgThumbsUp","SvgThumbsDown","SvgSend","x1","y1","_line3","SvgArrowUpCircle","SvgArrowDownCircle","quote","CommentSection","setCommentSection","postComment","setPostComment","Comments","setComments","quoteId","book_id","renderThreads","threads","threadsDOM","thread","comment","cfi_range","moment","created_at","format","onChange","placeholder","commentsDOM","renderComments","setDiscCount","Quotes","setQuotes","PostQuote","setPostQuotes","handlePostQuote","console","log","rows","onColorSelect","onClose","c","SvgChevronLeft","SvgChevronRight","SvgBookmark","SvgLetterCase","_line4","SvgMaximize","SvgMinimize","_line5","_line6","SvgList","SvgCommunication","onGoto","onSelect","tocItems","setTocItems","book","loaded","navigation","toc","toc_","label","href","gotoTOCItem","renderTOCItems","rangeSliderRef","useRef","progress","setProperty","useLocation","Preview","setPreview","setBookMeta","setProgress","setRendition","fullscreen","setFullscreen","annotaionPanel","setAnnotaionPanel","quotePanel","setQuotePanel","pageBookmarked","setPageBookmarked","totalLocations","setTotalLocations","customizerPanel","setCustomizerPanel","tocPanel","setTocPanel","showUI","setShowUI","annotationSelection","setAnnotationSelection","showContextMenu","setShowContextMenu","chapterName","setChapterName","discCount","currentLocationCFI","setCurrentLocationCFI","setTimerUpdate","debouncedProgress","useDebounce","addQuotesRef","seeking","connectWallet","Wallet","setWallet","selectedAddress","message","saveLastReadPage","bookKey","isCurrentPageBookmarked","isFilled","stored","epubcfi","EpubCFI","compare","end","updateBookmarkedStatus","hideAllPanel","customizer","openFullscreen","closeFullscreen","bookURL","navParams","Epub","openAs","ready","elm","querySelector","innerHTML","_rendition","renderTo","manager","flow","snap","gap","allowScriptedContent","default","handleResize","resize","handleFullscreen","fullscreenElement","addEventListener","removeEventListener","locationCfi","spineItem","spine","get","navItem","trim","handleRelocated","event","handleClick","handleKeyUp","keyCode","which","prev","next","on","off","locations","load","generate","total","save","cfiFromLocation","lastPageCfi","handleSelected","contents","getRange","range","toString","handleMarkClicked","startTimer","elem","documentElement","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","Helmet","content","class","bookmarks","removeBookMark","newBookmark","percent","percentage","addBookMark","handleAnnotationColorSelect","initialFontSize"],"sourceRoot":""}