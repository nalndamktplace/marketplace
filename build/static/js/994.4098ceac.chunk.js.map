{"version":3,"file":"static/js/994.4098ceac.chunk.js","mappings":"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","sources":["components/modal/ListedBookPurchase/ListedBookPurchase.jsx","pages/ListedBook.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport Backdrop from '../../hoc/Backdrop/Backdrop'\n\nimport GaTracker from '../../../trackers/ga-tracker'\n\nimport { isFilled, isUsable } from '../../../helpers/functions'\nimport { SHOW_PURCHASE_MODAL } from '../../../store/actions/modal'\n\nimport { ReactComponent as CloseIcon } from \"../../../assets/icons/close-icon.svg\"\nimport { ReactComponent as Error404Icon } from \"../../../assets/icons/error-404.svg\"\n\n\nconst ListedBookPurchaseModal = ({ onOldBookPurchase, data }) => {\n\n\tconst ModalState = useSelector(state => state.ModalState)\n\n\tconst [Show, setShow] = useState(false)\n\tconst [Offers, setOffers] = useState([])\n\n\tconst getClasses = () => {\n\t\tlet classes = [\"purchase purchase__wrapper\"]\n\t\tif (Show) classes.push(\"purchase__wrapper--open\")\n\t\telse classes.push(\"purchase__wrapper--close\")\n\t\treturn classes.join(\" \")\n\t}\n\n\tconst onOldPurchaseHandler = () => {\n\t\tonOldBookPurchase(data)\n\t}\n\n\tuseEffect(() => {\n\t\twindow.document.documentElement.style.overflowY = Show ? \"hidden\" : \"auto\"\n\t}, [Show])\n\n\tuseEffect(() => {\n\t\tif (ModalState.show === true && ModalState.type === SHOW_PURCHASE_MODAL) {\n\t\t\tGaTracker('modal_view_purchase')\n\t\t\tsetShow(true)\n\t\t}\n\t\telse setShow(false)\n\t}, [ModalState])\n\n\tuseEffect(() => {\n\t\tif (Show === true && isUsable(data)) {\n\t\t\tconst offerArray = [];\n\t\t\tofferArray.push(data)\n\t\t\tsetOffers(offerArray)\n\t\t}\n\t}, [Show, data])\n\n\treturn (\n\t\t<Backdrop show={Show}>\n\t\t\t<div className={getClasses()}>\n\t\t\t\t<div className=\"purchase__wrapper__header\">\n\t\t\t\t\t<div className=\"purchase__wrapper__header__close-button\">\n\t\t\t\t\t\t<div onClick={() => setShow(false)}><CloseIcon width={20} height={20} /></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"purchase__wrapper__content\">\n\t\t\t\t\t<div className=\"purchase__wrapper__content__options\">\n\t\t\t\t\t\t{isFilled(Offers)\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t<div className=\"purchase__wrapper__content__options__item\" onClick={() => onOldPurchaseHandler()}>\n\t\t\t\t\t\t\t\t<p className='typo__body utils__d__flex typo__align--center'>Buy Copy at</p>\n\t\t\t\t\t\t\t\t<h5 className='typo__head typo__head--4 typo__transform--upper utils__d__flex utils__align__center'>{data.price === 0 ? \"FREE\" : <><img src='https://imagedelivery.net/yOWneHxM1h9mu46Te3Yjwg/59c27d12-e4eb-4f74-7a6e-b33ba6537600/icon48' style={{ width: 32, height: 32, objectFit: 'contain' }} alt=\"USDC\" />&nbsp;{data.price}</>}</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<div className=\"purchase__wrapper__content__options__item\">\n\t\t\t\t\t\t\t\t<p className='typo__body utils__d__flex typo__align--center'>No old copies available yet.</p>\n\t\t\t\t\t\t\t\t<h5 className='typo__head typo__head--4 typo__transform--upper utils__d__flex utils__align__center'>&nbsp;<Error404Icon height={32} width={32} /></h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* } */}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Backdrop>\n\t)\n}\n\nexport default ListedBookPurchaseModal","import axios from 'axios'\nimport moment from 'moment'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams, useNavigate } from 'react-router'\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\n\nimport Page from '../components/hoc/Page/Page'\n\nimport Contracts from '../connections/contracts'\n\nimport Stars from '../components/ui/Stars/Stars'\nimport Button from '../components/ui/Buttons/Button'\nimport ListModal from '../components/modal/List/List'\nimport QuoteModal from '../components/modal/Quote/QuoteModal'\nimport ReviewModal from '../components/modal/Review/ReviewModal'\nimport ShareListModal from '../components/modal/ShareList/ShareList'\nimport ListedBookPurchaseModal from '../components/modal/ListedBookPurchase/ListedBookPurchase'\n\nimport Wallet from '../connections/wallet'\n\nimport GaTracker from '../trackers/ga-tracker'\nimport { BASE_URL } from '../config/env'\nimport { isFilled, isNotEmpty, isUsable } from '../helpers/functions'\n\nimport { setWallet } from '../store/actions/wallet'\nimport { setSnackbar } from '../store/actions/snackbar'\nimport { hideSpinner, showSpinner } from '../store/actions/spinner'\nimport { hideModal, showModal, SHOW_LIST_MODAL, SHOW_PURCHASE_MODAL, SHOW_QUOTE_MODAL, SHOW_REVIEW_MODAL, SHOW_SHARE_MODAL } from '../store/actions/modal'\n\nimport useIsLoggedIn from '../hook/useIsLoggedIn'\n\nimport BackgroundBook from '../assets/images/background-book.svg'\nimport { ReactComponent as LikeIcon } from '../assets/icons/like.svg'\nimport { ReactComponent as PrintIcon } from \"../assets/icons/print.svg\"\nimport { ReactComponent as QuoteIcon } from \"../assets/icons/quote.svg\"\nimport { ReactComponent as CartIcon } from \"../assets/icons/cart-add.svg\"\nimport { ReactComponent as SynopsisIcon } from \"../assets/icons/text.svg\"\nimport { ReactComponent as ReviewIcon } from \"../assets/icons/message.svg\"\nimport { ReactComponent as BlockQuoteIcon } from \"../assets/icons/block-quote.svg\"\nimport { ReactComponent as ExternalLinkIcon } from \"../assets/icons/external-link.svg\"\nimport { ReactComponent as LanguageIcon} from \"../assets/icons/language.svg\"\nimport { ReactComponent as LiveReadersIcon} from \"../assets/icons/live_readers.svg\"\nimport { ReactComponent as TotalReadTimeIcon} from \"../assets/icons/total_read_time.svg\"\nimport { ReactComponent as UsersIcon} from \"../assets/icons/users.svg\"\n\n\nconst ListedBookPage = props => {\n\n\tconst TABS = [{ id: 'TAB01', label: 'Synopsis', icon: <SynopsisIcon /> }, { id: 'TAB02', label: 'reviews', icon: <ReviewIcon /> }, { id: 'TAB03', label: 'quotes', icon: <BlockQuoteIcon /> }]\n\n\tconst params = useParams()\n\tconst dispatch = useDispatch()\n\tconst navigate = useNavigate()\n\tconst isLoggedIn = useIsLoggedIn()\n\n\tconst UserState = useSelector(state => state.UserState)\n\tconst WalletState = useSelector(state => state.WalletState)\n\n\tconst [WalletAddress, setWalletAddress] = useState(null)\n\tconst [Loading, setLoading] = useState(false)\n\tconst [ActiveTab, setActiveTab] = useState('TAB01')\n\t// NFT\n\tconst [NFT, setNFT] = useState(null)\n\tconst [Owner, setOwner] = useState(null)\n\tconst [Listed, setListed] = useState(null)\n\tconst [UserCopy, setUserCopy] = useState(null)\n\tconst [Published, setPublished] = useState(null)\n\t// ListedNFT\n\tconst [bookID, setBookID] = useState(null)\n\t//secondaryNFT\n\tconst [secondaryNFT, setSecondaryNFT] = useState(null)\n\t// Likes\n\tconst [Likes, setLikes] = useState(0)\n\tconst [Liked, setLiked] = useState(false)\n\t// Reviews\n\tconst [Rating, setRating] = useState(0)\n\tconst [Review, setReview] = useState(null)\n\tconst [Reviews, setReviews] = useState([])\n\tconst [TotalReveiws, setTotalReveiws] = useState(0)\n\tconst [ReviewForm, setReviewForm] = useState({ title: '', body: '', rating: 0 })\n\t// Quotes\n\tconst [Quote, setQuote] = useState(null)\n\tconst [Quotes, setQuotes] = useState([])\n\tconst [QuotesForm, setQuotesForm] = useState({ quote: '' })\n\t// live reader count\n\tconst [totalReaders, setTotalReaders] = useState(0)\n\tconst [liveReaderCount, setLiveReaderCount] = useState(0)\n\tconst [totalReadTime, setTotalReadTime] = useState(0)\n\t// tabs\n\tconst TabContainerRef = useRef();\n\n\tuseEffect(() => { GaTracker('page_view_book') }, [])\n\n\tuseEffect(() => {\n\t\tif (ActiveTab === 'TAB01') GaTracker('tab_view_book_synopsis')\n\t\telse if (ActiveTab === 'TAB02') GaTracker('tab_view_book_reviews')\n\t\telse GaTracker('tab_view_book_quotes')\n\t}, [ActiveTab])\n\n\n\tuseEffect(() => { if (isUsable(NFT)) setListed(NFT.listed === 1 ? true : false) }, [NFT])\n\n\tconst getReviews = useCallback(\n\t\t() => {\n\t\t\tif (isUsable(NFT)) {\n\t\t\t\tsetLoading(true)\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/book/reviews`,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tbookAddress: NFT.book_address\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tsetReviews(res.data.reviews)\n\t\t\t\t\t\tsetRating(res.data.rating)\n\t\t\t\t\t\tsetTotalReveiws(res.data.total)\n\t\t\t\t\t}\n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t}\n\t\t},\n\t\t[NFT, dispatch],\n\t)\n\n\tconst getUserReview = useCallback(\n\t\t() => {\n\t\t\tif (isUsable(NFT) && isUsable(WalletAddress)) {\n\t\t\t\tsetLoading(true)\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/book/reviewed`,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\t\townerAddress: WalletAddress\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tif (isNotEmpty(res.data))\n\t\t\t\t\t\t\tsetReview(res.data)\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t}\n\t\t},\n\t\t[NFT, WalletAddress, dispatch],\n\t)\n\n\tconst getQuotes = useCallback(\n\t\t() => {\n\t\t\tif (isUsable(NFT)) {\n\t\t\t\tsetLoading(true)\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/book/quotes`,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tbookAddress: NFT.book_address\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) setQuotes(res.data)\n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t}\n\t\t},\n\t\t[NFT, dispatch],\n\t)\n\n\tconst getUserQuote = useCallback(\n\t\t() => {\n\t\t\tif (isUsable(NFT) && isUsable(WalletAddress)) {\n\t\t\t\tsetLoading(true)\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/book/quoted`,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\t\townerAddress: WalletAddress\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tif (isNotEmpty(res.data))\n\t\t\t\t\t\t\tsetQuote(res.data)\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t}\n\t\t},\n\t\t[NFT, WalletAddress, dispatch],\n\t)\n\n\tuseEffect(() => { getReviews() }, [getReviews])\n\n\tuseEffect(() => { getUserReview() }, [getUserReview])\n\n\tuseEffect(() => { getQuotes() }, [getQuotes])\n\n\tuseEffect(() => { getUserQuote() }, [getUserQuote])\n\n\tuseEffect(() => {\n\t\tif (isUsable(NFT)) {\n\t\t\tsetLoading(true)\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/book/likes`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: {\n\t\t\t\t\tbookAddress: NFT.book_address\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) setLikes(res.data.likes)\n\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}, [NFT, dispatch])\n\n\tuseEffect(() => {\n\t\tif (isUsable(NFT) && isUsable(WalletAddress)) {\n\t\t\tsetLoading(true)\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/book/liked`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: {\n\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\townerAddress: WalletAddress\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) setLiked(res.data.liked)\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}, [NFT, WalletAddress, dispatch])\n\t\n\tuseEffect(() => {\n\t\tif(isUsable(NFT)){\n\t\t\tsetLoading(true)\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/reader/total-reader-count`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: { bookAddress: NFT.book_address }\n\t\t\t}).then(res => {\n\t\t\t\tif(res.status === 200) setTotalReaders(res.data.total_readers)\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}, [NFT, dispatch])\n\n\tuseEffect(() => {\n\t\tif (isUsable(NFT)) {\n\t\t\tsetLoading(true)\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/reader/count`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: { bookAddress: NFT.book_address }\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) setLiveReaderCount(res.data.reader_count)\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}, [NFT, dispatch])\n\n\tuseEffect(() => {\n\t\tif (isUsable(NFT)) {\n\t\t\tsetLoading(true)\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/reader/total-read-time`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: { bookAddress: NFT.book_address }\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) setTotalReadTime(res.data.total_read_time)\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}, [NFT, dispatch])\n\n\tuseEffect(() => {\n\t\tsetLoading(true)\n\t\tif (isUsable(WalletState.wallet.provider)) setWalletAddress(WalletState.wallet.address)\n\t\tsetLoading(false)\n\t}, [WalletState])\n\n\tuseEffect(() => { if (isUsable(Review)) setReviewForm({ title: Review.title, body: Review.body, rating: Review.rating }) }, [Review])\n\n\tuseEffect(() => {\n\t\tconst bookID = params.bookID\n\t\taxios({\n\t\t\turl: `${BASE_URL}/api/book/listedbook`,\n\t\t\tmethod: 'GET',\n\t\t\tparams: {\n\t\t\t\tbookID\n\t\t\t}\n\t\t}).then(res => {\n\t\t\tsetNFT(res.data.book)\n\t\t\tsetSecondaryNFT(res.data.secondary_book)\n\t\t})\n\t}, [params])\n\n\tuseEffect(() => {\n\t\tif (isUsable(WalletAddress)) {\n\t\t\tsetLoading(true)\n\t\t\tconst book = NFT\n\t\t\tif (book.new_owner === WalletAddress) setOwner(true)\n\t\t\telse setOwner(false)\n\t\t\tif (book.publisher_address === WalletAddress) setPublished(true)\n\t\t\telse setPublished(false)\n\t\t\taxios({\n\t\t\t\turl: BASE_URL + '/api/book/owner',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: {\n\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\tbookAddress: book.book_address\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) setOwner(true)\n\t\t\t}).catch(err => {\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}, [NFT, params, dispatch, WalletAddress])\n\n\tuseEffect(() => { if (isUsable(NFT) && isUsable(Published) && isUsable(Owner)) setLoading(false) }, [NFT, Published, Owner])\n\n\tuseEffect(() => {\n\t\tif (Loading) dispatch(showSpinner())\n\t\telse dispatch(hideSpinner())\n\t}, [Loading, dispatch])\n\n\tuseEffect(() => {\n\t\tlet activeTabElement = document.getElementById(\"BOOK_PAGE_\" + ActiveTab);\n\t\tif (!isUsable(activeTabElement)) return;\n\t\tif (!isUsable(TabContainerRef.current)) return;\n\t\tTabContainerRef.current.style.setProperty(\"--marker-x\", activeTabElement.offsetLeft);\n\t}, [ActiveTab])\n\n\tuseEffect(() => {\n\t\tif (Owner) {\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/user/book`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\t'user-id': UserState.user.uid,\n\t\t\t\t\t'address': WalletState.wallet.address,\n\t\t\t\t\t'authorization': `Bearer ${UserState.tokens.acsTkn.tkn}`\n\t\t\t\t},\n\t\t\t\tparams: { walletAddress: WalletState.wallet.address, bookAddress: NFT.book_address }\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tsetUserCopy(res.data)\n\t\t\t\t\tsetListed(res.data.listed)\n\t\t\t\t}\n\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t})\n\t\t}\n\t}, [Owner, UserState, WalletState, dispatch, NFT])\n\n\tconst walletStatus = () => {\n\t\tif (isUsable(WalletState.support) && WalletState.support === true && isUsable(WalletState.wallet.provider)) {\n\t\t\tsetWalletAddress(WalletState.wallet.address)\n\t\t\treturn true\n\t\t}\n\t\telse {\n\t\t\tsetLoading(true)\n\t\t\tWallet.connectWallet().then(res => {\n\t\t\t\tdispatch(setWallet({ wallet: res.wallet, provider: res.provider, signer: res.signer, address: res.address }))\n\t\t\t\tsetWalletAddress(res.address)\n\t\t\t\tdispatch(setSnackbar({ show: true, message: \"Wallet connected.\", type: 1 }))\n\t\t\t\treturn true\n\t\t\t}).catch(err => {\n\t\t\t\tdispatch(setSnackbar({ show: true, message: \"Error while connecting to wallet\", type: 4 }))\n\t\t\t\treturn false\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}\n\n\tconst unlistHandler = () => {\n\t\tGaTracker('event_book_unlist')\n\t\tif (isUsable(WalletAddress)) {\n\t\t\tsetLoading(true)\n\t\t\taxios({\n\t\t\t\turl: BASE_URL + '/api/user/book/listed',\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\t'user-id': UserState.user.uid,\n\t\t\t\t\t'authorization': `Bearer ${UserState.tokens.acsTkn.tkn}`\n\t\t\t\t},\n\t\t\t\tparams: {\n\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\ttokenId: UserCopy.token_id,\n\t\t\t\t\tbookAddress: NFT.book_address\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tsetLoading(true)\n\t\t\t\t\tconst orderId = res.data.order_id\n\t\t\t\t\tContracts.unlistBookFromMarketplace(orderId, WalletState.wallet.signer).then(res => {\n\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\taxios({\n\t\t\t\t\t\t\turl: BASE_URL + '/api/book/unlist',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\tsetListed(false)\n\t\t\t\t\t\t\t\tdispatch(hideModal())\n\t\t\t\t\t\t\t\tdispatch(setSnackbar({ show: true, message: \"Book unlisted from marketplace.\", type: 1 }))\n\t\t\t\t\t\t\t\tnavigate('/')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t\t\t}).finally(() => { setLoading(false) })\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tsetLoading(false)\n\t\t\t\t\t\tif (isUsable(err.reason)) {\n\t\t\t\t\t\t\tif (err.reason.includes('NFT not yet listed / already sold')) dispatch(setSnackbar({ show: true, message: \"eBook already sold or not listed.\", type: 3 }))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse dispatch(setSnackbar('ERROR'))\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t}).catch(err => {\n\t\t\t\tsetLoading(false)\n\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t})\n\t\t}\n\t}\n\n\tconst listHandler = () => {\n\t\tdispatch(showModal(SHOW_LIST_MODAL))\n\t\tif (moment(NFT.secondary_sales_from).isSame(moment()) || moment(NFT.secondary_sales_from).isBefore(moment())) dispatch(showModal(SHOW_LIST_MODAL))\n\t\telse if (moment(NFT.secondary_sales_from).isAfter(moment())) dispatch(setSnackbar({ show: true, message: `Secondary Sales will open only after ${moment(NFT.secondary_sales_from).format('D MMM, YYYY')}.`, type: 2 }))\n\t}\n\n\tconst onListHandler = listPrice => {\n\t\tGaTracker('event_book_list')\n\t\tif (isUsable(WalletAddress)) {\n\t\t\tsetLoading(true)\n\t\t\tContracts.listBookToMarketplace(NFT.book_address, UserCopy.token_id, listPrice, WalletState.wallet.signer).then(res => {\n\t\t\t\tsetLoading(true)\n\t\t\t\tconst orderId = parseInt(res.events.filter(event => event.event === 'CoverListed')[0].args[0]._hex)\n\t\t\t\taxios({\n\t\t\t\t\turl: BASE_URL + '/api/book/list',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\t\tbookPrice: listPrice,\n\t\t\t\t\t\tbookOrderId: orderId,\n\t\t\t\t\t\tbookTokenId: UserCopy.token_id\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tsetListed(true)\n\t\t\t\t\t\tdispatch(hideModal())\n\t\t\t\t\t\tdispatch(setSnackbar({ show: true, message: \"Book listed on marketplace.\", type: 1 }))\n\t\t\t\t\t\tif (res.data) {\n\t\t\t\t\t\t\tsetBookID(res.data)\n\t\t\t\t\t\t\tdispatch(showModal(SHOW_SHARE_MODAL))\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => { setLoading(false) })\n\t\t\t}).catch(err => {\n\t\t\t\tif (isUsable(err.reason)) {\n\t\t\t\t\tif (err.reason.includes(\"Can't list the cover at this time\")) dispatch(setSnackbar({ show: true, message: \"Please wait for some more time before listing the book.\", type: 3 }))\n\t\t\t\t\telse if (err.reason.includes(\"Listing for this book is disabled\")) dispatch(setSnackbar({ show: true, message: \"Listing this book is not allowed right now. Please try again later.\", type: 3 }))\n\t\t\t\t\telse if (err.reason.includes(\"Seller should own the NFT to list\")) dispatch(setSnackbar({ show: true, message: \"Book is already listed. Please contact us on support@nalnda.com\", type: 3 }))\n\t\t\t\t}\n\t\t\t\telse dispatch(setSnackbar('ERROR'))\n\t\t\t}).finally(() => setLoading(false))\n\t\t}\n\t}\n\n\tconst readHandler = async () => {\n\t\tGaTracker('event_book_read')\n\t\tsetLoading(true)\n\t\ttry {\n\t\t\taxios({\n\t\t\t\turl: `${BASE_URL}/api/verify`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: {\n\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\townerAddress: WalletAddress\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tconst messageToSign = res.data\n\t\t\t\t\tWallet.signMessage(WalletState.wallet.signer, JSON.stringify(messageToSign)).then(res => {\n\t\t\t\t\t\tif (res.isValid === true) {\n\t\t\t\t\t\t\taxios({\n\t\t\t\t\t\t\t\turl: BASE_URL + '/api/verify',\n\t\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t'address': WalletState.wallet.address,\n\t\t\t\t\t\t\t\t\t'user-id': UserState.user.uid,\n\t\t\t\t\t\t\t\t\t'authorization': `Bearer ${UserState.tokens.acsTkn.tkn}`\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\taccountAddress: WalletAddress,\n\t\t\t\t\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\t\t\t\t\tsignedData: res.signedData,\n\t\t\t\t\t\t\t\t\tcid: NFT.book.slice(NFT.book.lastIndexOf(\"/\") + 1),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\t\tGaTracker('navigate_book_reader')\n\t\t\t\t\t\t\t\t\tnavigate('/library/reader', { state: { book: { ...NFT, url: res.data.url }, preview: false } })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse dispatch(setSnackbar({ show: true, message: \"Error\", type: 4 }))\n\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse dispatch(setSnackbar({ show: true, message: \"Could not verify the authenticity of the signature.\", type: 3 }))\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tsetLoading(false)\n\t\t}\n\t}\n\n\tconst previewHandler = () => {\n\t\tGaTracker('navigate_book_preview')\n\t\tnavigate('/book/preview', { state: { book: NFT, preview: true } })\n\t}\n\n\tconst purchaseHandler = () => isLoggedIn ? dispatch(showModal(SHOW_PURCHASE_MODAL)) : dispatch(setSnackbar('NOT_LOGGED_IN'))\n\n\tconst reviewModalHandler = () => isLoggedIn ? dispatch(showModal(SHOW_REVIEW_MODAL)) : dispatch(setSnackbar('NOT_LOGGED_IN'))\n\n\tconst quoteModalHandler = () => isLoggedIn ? dispatch(showModal(SHOW_QUOTE_MODAL)) : dispatch(setSnackbar('NOT_LOGGED_IN'))\n\n\tconst purchaseOldCopyHandler = offer => {\n\t\tGaTracker('event_book_purchase_old')\n\t\tif (walletStatus()) {\n\t\t\tsetLoading(true)\n\t\t\tContracts.buyListedCover(offer.order_id, offer.price, WalletState.wallet.signer).then(res => {\n\t\t\t\taxios({\n\t\t\t\t\turl: BASE_URL + '/api/book/purchase/secondary',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tnewOwnerAddress: WalletAddress,\n\t\t\t\t\t\tpreviousOwnerAddress: offer.previous_owner,\n\t\t\t\t\t\tbookAddress: offer.book_address,\n\t\t\t\t\t\ttokenId: offer.token_id,\n\t\t\t\t\t\tpurchasePrice: offer.price,\n\t\t\t\t\t\torderId: offer.order_id,\n\t\t\t\t\t\tdaScore: offer.da_score\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tdispatch(hideModal())\n\t\t\t\t\t\tsetOwner(true)\n\t\t\t\t\t}\n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t}).catch(err => {\n\t\t\t\tsetLoading(false)\n\t\t\t})\n\t\t}\n\t}\n\n\tconst likeHandler = () => {\n\t\tif (walletStatus()) {\n\t\t\tif (Owner) {\n\t\t\t\tif (!Liked) {\n\t\t\t\t\tsetLikes(old => old + 1)\n\t\t\t\t\tGaTracker('event_book_like')\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetLikes(old => old - 1)\n\t\t\t\t\tGaTracker('event_book_unlike')\n\t\t\t\t}\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/book/likes`,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\t\townerAddress: WalletAddress,\n\t\t\t\t\t\tlikedState: !Liked\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) setLiked(old => !old)\n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t}).finally(() => setLoading(false))\n\t\t\t}\n\t\t\telse dispatch(setSnackbar({ show: true, message: \"Only owners can like a book.\", type: 3 }))\n\t\t}\n\t\telse dispatch(setSnackbar({ show: true, message: \"Please login first.\", type: 3 }))\n\t}\n\n\tconst renderTabs = () => {\n\t\tlet tabsDOM = []\n\t\tTABS.forEach(tab => {\n\t\t\ttabsDOM.push(\n\t\t\t\t<div onClick={() => setActiveTab(tab.id)} id={\"BOOK_PAGE_\" + tab.id} className={tab.id === ActiveTab ? \"book__data__container__desc__tabs__container__item book__data__container__desc__tabs__container__item--active\" : \"book__data__container__desc__tabs__container__item utils__cursor--pointer\"} key={tab.id}>\n\t\t\t\t\t{isUsable(tab.icon) && tab.icon}\n\t\t\t\t\t<h5 className=\"typo__head typo__head--6 typo__transform--capital\">{tab.label}</h5>\n\t\t\t\t</div>\n\t\t\t)\n\t\t})\n\t\treturn tabsDOM\n\t}\n\n\tconst renderTabData = () => {\n\t\tswitch (ActiveTab) {\n\t\t\tcase 'TAB01':\n\t\t\t\treturn <p className=\"typo--break-spaces typo__body typo__color--n600\">{NFT.synopsis}</p>\n\t\t\tcase 'TAB02':\n\t\t\t\tconst renderReviews = reviews => {\n\t\t\t\t\tlet reviewsDOM = []\n\t\t\t\t\tif (isFilled(reviews)) reviews.forEach(review => reviewsDOM.push(\n\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__reviews__item\">\n\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__reviews__item__header__head typo__head typo__head--6\">{review.title}</div>\n\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__reviews__item__header\">\n\t\t\t\t\t\t\t\t<Stars rating={review.rating} size={'small'} />\n\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__reviews__item__header__time typo__color--n500\">{moment(review.reviewed_at).format(\"D MMM, YYYY\")}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__reviews__item__body typo__body typo__body--2\">{review.body}</div>\n\t\t\t\t\t\t</div>))\n\t\t\t\t\treturn reviewsDOM\n\t\t\t\t}\n\t\t\t\treturn <React.Fragment>\n\t\t\t\t\t{!isUsable(Review) && Owner ?\n\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__action\">\n\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__action__icon\">\n\t\t\t\t\t\t\t\t<ReviewIcon width={32} height={32} stroke=\"currentColor\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__action__label typo__head--6\">Write a Review</div>\n\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => reviewModalHandler()}>Review</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null}\n\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__reviews\">\n\t\t\t\t\t\t{renderReviews(Reviews)}\n\t\t\t\t\t\t{Reviews?.length === 0 ? <div className='book__data__container__desc__tabs__data__empty'>No Reviews</div> : \"\"}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\tcase 'TAB03':\n\t\t\t\tconst renderQuotes = quotes => {\n\t\t\t\t\tlet quotesDOM = []\n\t\t\t\t\tquotes.forEach((quote, i) => {\n\t\t\t\t\t\tquotesDOM.push(\n\t\t\t\t\t\t\t<div key={i} className='book__data__container__desc__tabs__data__quotes__item'>\n\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__quotes__item__icon\">\n\t\t\t\t\t\t\t\t\t<QuoteIcon width={32} height={32} fill=\"currentColor\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__quotes__item__body typo__body\">\n\t\t\t\t\t\t\t\t\t{quote.body}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__quotes__item__time typo__cap typo__cap--2\">\n\t\t\t\t\t\t\t\t\t{moment(quote.created_at).format(\"D MMM, YYYY\") || \"-\"}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t\treturn quotesDOM\n\t\t\t\t}\n\t\t\t\treturn <React.Fragment>\n\t\t\t\t\t{!isUsable(Quote) && (Published || Owner) ?\n\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__action\">\n\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__action__icon\">\n\t\t\t\t\t\t\t\t<BlockQuoteIcon width={32} height={32} stroke=\"currentColor\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__action__label typo__head--6\">Write a Quote</div>\n\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => quoteModalHandler()}>Quote</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null}\n\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data__quotes\">\n\t\t\t\t\t\t{renderQuotes(Quotes)}\n\t\t\t\t\t\t{Quotes?.length === 0 ? <div className='book__data__container__desc__tabs__data__empty'>No Quotes</div> : \"\"}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tconst reviewHandler = () => {\n\t\tGaTracker('event_book_review')\n\t\tif (isUsable(WalletAddress)) {\n\t\t\tif (isNotEmpty(ReviewForm.body) && isNotEmpty(ReviewForm.rating) && isNotEmpty(ReviewForm.title)) {\n\t\t\t\tsetLoading(true)\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/book/reviews`,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\treview: { ...ReviewForm },\n\t\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\t\townerAddress: WalletAddress\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tdispatch(hideModal())\n\t\t\t\t\t\tgetUserReview()\n\t\t\t\t\t\tgetReviews()\n\t\t\t\t\t}\n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tsetLoading(false)\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t})\n\t\t\t}\n\t\t\telse dispatch(setSnackbar({ show: true, message: \"Please fill the review.\", type: 3 }))\n\t\t}\n\t\telse dispatch(setSnackbar({ show: true, message: \"Please login first\", type: 3 }))\n\t}\n\n\tconst renderGrid = () => {\n\t\treturn (\n\t\t\t<div className='book__data__container__desc__summary__grid typo__color--n700'>\n\t\t\t\t<div className='book__data__container__desc__summary__grid__item'>\n\t\t\t\t\t<LanguageIcon />\n\t\t\t\t\t<div className='book__data__container__desc__summary__grid__item__data'>{NFT.language}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='book__data__container__desc__summary__grid__item'>\n\t\t\t\t\t<UsersIcon />\n\t\t\t\t\t<div className='book__data__container__desc__summary__grid__item__data'>{totalReaders} readers</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='book__data__container__desc__summary__grid__item'>\n\t\t\t\t\t<LiveReadersIcon />\n\t\t\t\t\t<div className='book__data__container__desc__summary__grid__item__data'>{liveReaderCount} people reading</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='book__data__container__desc__summary__grid__item'>\n\t\t\t\t\t<TotalReadTimeIcon />\n\t\t\t\t\t<div className='book__data__container__desc__summary__grid__item__data'>{Math.ceil(totalReadTime / 60)} minutes</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst quoteHandler = () => {\n\t\tGaTracker('event_book_quote')\n\t\tif (isUsable(WalletAddress)) {\n\t\t\tif (isNotEmpty(QuotesForm.quote)) {\n\t\t\t\tsetLoading(true)\n\t\t\t\taxios({\n\t\t\t\t\turl: `${BASE_URL}/api/book/quotes`,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tquote: { body: QuotesForm.quote },\n\t\t\t\t\t\tbookAddress: NFT.book_address,\n\t\t\t\t\t\townerAddress: WalletAddress\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tdispatch(hideModal())\n\t\t\t\t\t\tgetUserQuote()\n\t\t\t\t\t\tgetQuotes()\n\t\t\t\t\t}\n\t\t\t\t\telse dispatch(setSnackbar('NOT200'))\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tsetLoading(false)\n\t\t\t\t\tdispatch(setSnackbar('ERROR'))\n\t\t\t\t})\n\t\t\t}\n\t\t\telse dispatch(setSnackbar({ show: true, message: \"Please enter the quote.\", type: 3 }))\n\t\t}\n\t\telse dispatch(setSnackbar({ show: true, message: \"Please login first\", type: 3 }))\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<div className=\"book__bg\">\n\t\t\t\t<img src={BackgroundBook} alt=\"background\" loading=\"lazy\" />\n\t\t\t</div>\n\t\t\t{isUsable(NFT) ?\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"book__data\">\n\t\t\t\t\t\t<div className=\"book__data__background\" />\n\t\t\t\t\t\t<div className=\"book__data__container\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className='book__data__container__cover'>\n\t\t\t\t\t\t\t\t\t<img className='book__data__container__cover__image' src={NFT.cover_display_url ? NFT.cover_display_url : NFT.cover_public_url ? NFT.cover_public_url : NFT.cover} alt={NFT.name} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='book__data__container__meta'>\n\t\t\t\t\t\t\t\t\t<h3 className=\"typo__color--n700 typo__head typo__head--3 typo__transform--capital\">{NFT.title}</h3>\n\t\t\t\t\t\t\t\t\t<h5 className=\"typo__color--n500 typo__head typo__head--6 typo__transform--upper\">{NFT.author}</h5>\n\t\t\t\t\t\t\t\t\t{Owner || Published ? null : <div className='book__data__container__meta__price typo-head--6 typo__act typo__color--success'>{secondaryNFT.price === 0 ? \"FREE\" : <><img src='https://imagedelivery.net/yOWneHxM1h9mu46Te3Yjwg/59c27d12-e4eb-4f74-7a6e-b33ba6537600/icon48' style={{ width: 20, height: 20, objectFit: 'contain' }} alt=\"USDC\" />&nbsp;{secondaryNFT.price}</>}</div>}\n\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__meta__rating\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__meta__rating__stars\">\n\t\t\t\t\t\t\t\t\t\t\t<Stars size={'small'} rating={Rating} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__meta__rating__count typo__body'>\n\t\t\t\t\t\t\t\t\t\t\t{TotalReveiws} reviews\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__meta__cta\">\n\t\t\t\t\t\t\t\t\t\t{Listed\n\t\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"primary\" size=\"lg\" onClick={() => unlistHandler()}>Unlist</Button>\n\t\t\t\t\t\t\t\t\t\t\t: Published\n\t\t\t\t\t\t\t\t\t\t\t\t? <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"primary\" size=\"lg\" onClick={() => readHandler()}>Read</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t: Owner\n\t\t\t\t\t\t\t\t\t\t\t\t\t? <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"primary\" size=\"lg\" onClick={() => readHandler()}>Read</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => listHandler()}>List</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t: <>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"primary\" size=\"lg\" onClick={() => purchaseHandler()}>Buy Now</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => previewHandler()}>Preview</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='book__data__container__desc'>\n\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__left\">\n\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__summary\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__summary__contract\">\n\t\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__contract__data'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__contract__label typo__color--n700'>Contract Address</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__contract__value typo__color--n500' onClick={() => window.open(`https://mumbai.polygonscan.com/address/${NFT.book_address}`, \"_blank\")}>{(NFT.book_address || \"\").slice(0, 12)}{(NFT.book_address || \"\").slice((NFT.contract || \"\").length - 10)}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__contract__icon'>\n\t\t\t\t\t\t\t\t\t\t\t\t<ExternalLinkIcon width={24} height={24} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__head typo__color--n700'>DA Score</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__data'>{secondaryNFT.da_score}</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__head typo__color--n700'>Token ID</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__data'>{secondaryNFT.token_id}</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__head typo__color--n700'>Genres</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__chips typo__transform--capital'>{JSON.parse(NFT.genres).map(g => <div className=\"book__data__container__desc__summary__chips__item\">{g}</div>)}</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__head typo__color--n700'>Prefered Age Group</div>\n\t\t\t\t\t\t\t\t\t\t<div className='book__data__container__desc__summary__chips typo__transform--capital'>{JSON.parse(NFT.age_group).map(g => <div className=\"book__data__container__desc__summary__chips__item\">{g}</div>)}</div>\n\t\t\t\t\t\t\t\t\t\t{renderGrid()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__right\">\n\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__interacts\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__interacts__item\">\n\t\t\t\t\t\t\t\t\t\t\t<div className='typo__subtitle typo__color--n500'>Likes</div>\n\t\t\t\t\t\t\t\t\t\t\t<LikeIcon width={24} height={24} className=\"book__data__container__desc__interacts__item__icon\" stroke={Liked ? \"#ff5722\" : \"currentColor\"} fill={Liked ? \"#ff5722\" : \"transparent\"} onClick={() => likeHandler()} />\n\t\t\t\t\t\t\t\t\t\t\t<div className='typo__head--5 typo__color--n600'>{Likes || \"0\"}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__interacts__item\">\n\t\t\t\t\t\t\t\t\t\t\t<div className='typo__subtitle typo__color--n500'>Reviews</div>\n\t\t\t\t\t\t\t\t\t\t\t<ReviewIcon width={24} height={24} stroke=\"currentColor\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className='typo__head--5 typo__color--n600'>{TotalReveiws || \"0\"}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__interacts__item\">\n\t\t\t\t\t\t\t\t\t\t\t<div className='typo__subtitle typo__color--n500'>Pages</div>\n\t\t\t\t\t\t\t\t\t\t\t<PrintIcon width={24} height={24} stroke=\"currentColor\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className='typo__head--5 typo__color--n600'>{NFT.print || \"00\"}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__interacts__item\">\n\t\t\t\t\t\t\t\t\t\t\t<div className='typo__subtitle typo__color--n500'>Sold</div>\n\t\t\t\t\t\t\t\t\t\t\t<CartIcon width={24} height={24} stroke=\"currentColor\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className='typo__head--5 typo__color--n600'>{NFT.copies || \"00\"}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs\">\n\t\t\t\t\t\t\t\t\t\t<div ref={TabContainerRef} className=\"book__data__container__desc__tabs__container\">\n\t\t\t\t\t\t\t\t\t\t\t{renderTabs()}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"book__data__container__desc__tabs__data\">\n\t\t\t\t\t\t\t\t\t\t\t{renderTabData()}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ListedBookPurchaseModal data={secondaryNFT} onOldBookPurchase={offer => purchaseOldCopyHandler(offer)} />\n\t\t\t\t\t<ListModal book={NFT} userCopy={UserCopy} onListHandler={listPrice => onListHandler(listPrice)} />\n\t\t\t\t\t<ReviewModal ReviewForm={ReviewForm} setReviewForm={setReviewForm} reviewHandler={reviewHandler} />\n\t\t\t\t\t<QuoteModal QuotesForm={QuotesForm} setQuotesForm={setQuotesForm} quoteHandler={quoteHandler} />\n\t\t\t\t\t<ShareListModal bookID={bookID} />\n\t\t\t\t</>\n\t\t\t\t: null\n\t\t\t}\n\t\t</Page>\n\t)\n}\n\nexport default ListedBookPage\n"],"names":["onOldBookPurchase","data","ModalState","useSelector","state","useState","Show","setShow","Offers","setOffers","useEffect","window","document","documentElement","style","overflowY","show","type","SHOW_PURCHASE_MODAL","GaTracker","isUsable","offerArray","push","Backdrop","className","classes","join","getClasses","onClick","width","height","isFilled","price","src","objectFit","alt","props","TABS","id","label","icon","params","useParams","dispatch","useDispatch","navigate","useNavigate","isLoggedIn","useIsLoggedIn","UserState","WalletState","WalletAddress","setWalletAddress","Loading","setLoading","ActiveTab","setActiveTab","NFT","setNFT","Owner","setOwner","Listed","setListed","UserCopy","setUserCopy","Published","setPublished","bookID","setBookID","secondaryNFT","setSecondaryNFT","Likes","setLikes","Liked","setLiked","Rating","setRating","Review","setReview","Reviews","setReviews","TotalReveiws","setTotalReveiws","title","body","rating","ReviewForm","setReviewForm","Quote","setQuote","Quotes","setQuotes","quote","QuotesForm","setQuotesForm","totalReaders","setTotalReaders","liveReaderCount","setLiveReaderCount","totalReadTime","setTotalReadTime","TabContainerRef","useRef","listed","getReviews","useCallback","axios","url","BASE_URL","method","bookAddress","book_address","then","res","status","reviews","total","setSnackbar","catch","err","finally","getUserReview","ownerAddress","isNotEmpty","getQuotes","getUserQuote","likes","liked","total_readers","reader_count","total_read_time","wallet","provider","address","book","secondary_book","new_owner","publisher_address","showSpinner","hideSpinner","activeTabElement","getElementById","current","setProperty","offsetLeft","headers","user","uid","tokens","acsTkn","tkn","walletAddress","walletStatus","support","Wallet","setWallet","signer","message","readHandler","messageToSign","JSON","stringify","isValid","accountAddress","signedData","cid","slice","lastIndexOf","preview","Page","BackgroundBook","loading","cover_display_url","cover_public_url","cover","name","author","Stars","size","Button","tokenId","token_id","orderId","order_id","Contracts","hideModal","reason","includes","showModal","SHOW_LIST_MODAL","moment","secondary_sales_from","isSame","isBefore","isAfter","format","open","contract","length","da_score","parse","genres","map","g","age_group","language","Math","ceil","stroke","fill","old","likedState","print","copies","ref","tabsDOM","forEach","tab","renderTabs","synopsis","SHOW_REVIEW_MODAL","reviewsDOM","review","reviewed_at","renderReviews","SHOW_QUOTE_MODAL","quotes","quotesDOM","i","created_at","renderQuotes","renderTabData","ListedBookPurchase","offer","newOwnerAddress","previousOwnerAddress","previous_owner","purchasePrice","daScore","purchaseOldCopyHandler","List","userCopy","onListHandler","listPrice","parseInt","events","filter","event","args","_hex","bookPrice","bookOrderId","bookTokenId","SHOW_SHARE_MODAL","ReviewModal","reviewHandler","QuoteModal","quoteHandler","ShareList"],"sourceRoot":""}